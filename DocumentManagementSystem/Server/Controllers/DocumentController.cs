using DocumentManagementSystem.Shared;
using Microsoft.AspNetCore.Mvc;
using System.IO;
using System.Text;
using System.Threading.Tasks;

namespace DocumentManagementSystem.Server.Controllers
{
    [ApiController]
    [Route("[controller]")]
    public class DocumentController : ControllerBase
    {
        private readonly ILogger<WeatherForecastController> _logger;

        public DocumentController(ILogger<WeatherForecastController> logger)
        {
            _logger = logger;
        }

        static string ecpJson = "{\"openapi\": \"3.0.1\",\"info\": {\"title\": \"ECP MIS API\",\"description\": \"Ниже описаны API, необходимые для осуществления логики взаимодействия между системами МИС и ЭКФ, описанные в [памятке](https://www.ecp.umkb.com/mis) по интеграции.\\r\\n\\r\\nДомен для запросов [https://service.socmedica.com:9004](https://service.socmedica.com:9004).\\r\\n\\r\\nВсе запросы должны быть отправлены методом POST. Все ответы приходят в формате JSON. Для запросов и ответов используется один и тот же формат передачи данных.\\r\\n\\r\\nВнимание:\\r\\n- приведённые ниже примеры описывают лишь структуру ожидаемых данных,\\r\\n- формат зависит от используемых для передачи запросов технологий,\\r\\n- во всех запросах должен присутствовать параметр key (ключ доступа),\\r\\n- параметры, указанные в каждом API ниже рекомендуемы к заполнению,\\r\\n- параметры, помеченные красной * - обязательные.\\r\\n\\r\\n\",\"version\": \"2.0.2.0\"},\"servers\": [{\"url\": \"https://service.socmedica.com:9004\"}],\"paths\": {\"/Mis/NewTherapy\": {\"post\": {\"tags\": [\"Mis\"],\"summary\": \"(Основное) Проверка и назначение пациенту новой фармакотерапии c отменой всех предыдущих назначений\",\"description\": \"Данный API предназначен для проверки и назначения пациенту новой фармакотерапии c заменой актуальных назначений указанным. Т.е. все ЛС которые были ранее назначены будут заменены ЛС из запроса. API в ответ возвращает итоговое значение максимального уровня опасности (параметр danger) и URL-ссылку, по которой можно запросить результат проверки листа назначения в web-интерфейсе ЭКФ.\\r\\n\\r\\nДля каждого запроса в ответе будет уникальная ссылка, при открытии которой всегда будут отображаться одиниковые данные, которые не меняются с течением времени или при запросах на другие API.\\r\\n\\r\\nПо данному запросу система ЭКФ анализирует лист назначения и данные пациента, формирует предупреждения и соответствующие рекомендации.\\r\\n\\r\\nДля правильной работы API с растворами есть несколько правил:\\r\\n- сам раствор добавляется в запрос как отдельный объект \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\", с \\\\\"type\\\\\": \\\\\"LQ\\\\\",\\r\\n- компоненты раствора добавляются как отдельные объекты \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\",\\r\\n- у раствора и его компонентов должен быть одинаковый \\\\\"group\\\\\", он должен быть заполнен и не равен 0,\\r\\n- у компонентов раствора \\\\\"schedule\\\\\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \\\\\"schedule\\\\\" раствора,\\r\\n- \\\\\"method\\\\\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\\r\\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\\r\\n- для расчета скорости введения раствора нужно указать \\\\\"use_duration\\\\\" и \\\\\"use_duration_unit\\\\\", по умолчанию \\\\\"use_duration\\\\\" - 1, \\\\\"use_duration_unit\\\\\" - минута.\\r\\n\\r\\nВ поле disease_classifier указывается:\\r\\n- null или string.Empty - поиск по именам во всех классификаторах,\\r\\n- mkb10 - Поиск именам МКБ10,\\r\\n- mkb10code - Поиск кодам МКБ10,\\r\\n- mkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений).\\r\\n\\r\\nПример запроса с диагнозом по коду МКБ-10, параметр key надо заполнить.\\r\\nВ поле disease/co-disease указывается код заболевания по МКБ-10\\r\\n\\r\\nPOST /NewTherapy\\r\\n{\\r\\n\\\\\"key\\\\\": \\\\\"ВВЕДИТЕ ВАШ КЛЮЧ!!!\\\\\",\\r\\n\\\\\"clinic\\\\\": \\\\\"Clinic56\\\\\",\\r\\n\\\\\"clinic_name\\\\\": \\\\\"Test Clinic\\\\\",\\r\\n\\\\\"department\\\\\": \\\\\"Department976\\\\\",\\r\\n\\\\\"department_name\\\\\": \\\\\"Test Department\\\\\",\\r\\n\\\\\"doctor\\\\\": \\\\\"Doctor26\\\\\",\\r\\n\\\\\"doctor_name\\\\\": \\\\\"Test Doctor\\\\\",\\r\\n\\\\\"patient\\\\\": {\\r\\n\\\\\"code\\\\\": \\\\\"TestPat398\\\\\",\\r\\n\\\\\"clinical_case\\\\\": \\\\\"АБ22/5366293\\\\\",\\r\\n\\\\\"lastname\\\\\": \\\\\"Patient\\\\\",\\r\\n\\\\\"firstname\\\\\": \\\\\"Test\\\\\",\\r\\n\\\\\"patronymic\\\\\": \\\\\"MKB10\\\\\",\\r\\n\\\\\"snils\\\\\": \\\\\"123-456-789 00\\\\\",\\r\\n\\\\\"email\\\\\": \\\\\"test@email.net\\\\\",\\r\\n\\\\\"birthdate\\\\\": 1050095200000,\\r\\n\\\\\"sex\\\\\": \\\\\"m\\\\\",\\r\\n\\\\\"growth\\\\\": 190,\\r\\n\\\\\"weight\\\\\": 80,\\r\\n\\\\\"disease\\\\\": [\\r\\n\\\\\"J11.1\\\\\"\\r\\n],\\r\\n\\\\\"co_disease\\\\\": [\\r\\n\\\\\"I15.2\\\\\"\\r\\n],\\r\\n\\\\\"disease_classifier\\\\\": \\\\\"mkb10code\\\\\",\\r\\n\\\\\"allergy\\\\\": [\\r\\n\\\\\"йод\\\\\"\\r\\n],\\r\\n\\\\\"alcohol\\\\\": true,\\r\\n\\\\\"driving\\\\\": true\\r\\n},\\r\\n\\\\\"drugs\\\\\": [\\r\\n{\\r\\n\\\\\"name\\\\\": \\\\\"Парацетамол\\\\\",\\r\\n\\\\\"type\\\\\": \\\\\"TN\\\\\",\\r\\n\\\\\"form\\\\\": \\\\\"таблетка\\\\\",\\r\\n\\\\\"method\\\\\": \\\\\"в/в\\\\\",\\r\\n\\\\\"dosage\\\\\": [\\r\\n2.5\\r\\n ],\\r\\n\\\\\"dosage_unit\\\\\": \\\\\"мг\\\\\",\\r\\n\\\\\"use_calc\\\\\": 1,\\r\\n\\\\\"use_calc_unit\\\\\": \\\\\"г\\\\\",\\r\\n\\\\\"schedule\\\\\": {\\r\\n\\\\\"dateStart\\\\\": 1661904000000,\\r\\n\\\\\"duration\\\\\": \\\\\"ежедневно\\\\\",\\r\\n\\\\\"sequence\\\\\": \\\\\"1 раз в день\\\\\"\\r\\n},\\r\\n\\\\\"fp_form\\\\\": \\\\\"блистер\\\\\",\\r\\n\\\\\"fp_dosage\\\\\": 10,\\r\\n\\\\\"fp_dosage_unit\\\\\": \\\\\"штука\\\\\",\\r\\n\\\\\"specials\\\\\": \\\\\"после еды\\\\\"\\r\\n}\\r\\n],\\r\\n\\\\\"parsedrugs\\\\\": [\\r\\n\\\\\"Умифеновир 10 мг 3 раза в день по 0,5 г до отмены\\\\\"\\r\\n],\\r\\n\\\\\"lang\\\\\": \\\\\"ru\\\\\"\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\nПример запроса с диагнозом строкой, параметр key надо заполнить\\r\\n\\r\\nPOST /NewTherapy\\r\\n\\r\\n{\\r\\n\\\\\"key\\\\\": \\\\\"ВВЕДИТЕ ВАШ КЛЮЧ!!!\\\\\",\\r\\n\\\\\"lang\\\\\": \\\\\"ru\\\\\",\\r\\n\\\\\"clinical_case\\\\\": \\\\\"АБ22/5366293\\\\\",\\r\\n\\\\\"clinic\\\\\": \\\\\"test\\\\\",\\r\\n\\\\\"clinic_name\\\\\": \\\\\"test\\\\\",\\r\\n\\\\\"department\\\\\": \\\\\"1\\\\\",\\r\\n\\\\\"department_name\\\\\": \\\\\"Clinic department\\\\\",\\r\\n\\\\\"doctor\\\\\": \\\\\"6\\\\\",\\r\\n\\\\\"doctor_name\\\\\": \\\\\"Testovy Vrach\\\\\",\\r\\n\\\\\"patient\\\\\": {\\r\\n\\\\\"name\\\\\": \\\\\"Test Pat\\\\\",\\r\\n\\\\\"code\\\\\": \\\\\"398\\\\\",\\r\\n\\\\\"birthdate\\\\\": 1050095200000,\\r\\n\\\\\"snils\\\\\": \\\\\"123-456-789 00\\\\\",\\r\\n\\\\\"sex\\\\\": \\\\\"male\\\\\",\\r\\n\\\\\"disease\\\\\": [\\r\\n\\\\\"Influenza\\\\\"\\r\\n],\\r\\n\\\\\"co_disease\\\\\": [],\\r\\n\\\\\"allergy\\\\\": [],\\r\\n\\\\\"pregnancy\\\\\": false,\\r\\n\\\\\"lactation\\\\\": false,\\r\\n\\\\\"alcohol\\\\\": false,\\r\\n\\\\\"driving\\\\\": false,\\r\\n\\\\\"disease_classifier\\\\\": null\\r\\n},\\r\\n\\\\\"parsedrugs\\\\\": [\\r\\n\\\\\"Arbidol\\\\\"\\r\\n],\\r\\n\\\\\"drugs\\\\\": [\\r\\n{\\r\\n\\\\\"name\\\\\": \\\\\"Arbidol\\\\\",\\r\\n\\\\\"type\\\\\": \\\\\"DV\\\\\",\\r\\n\\\\\"form\\\\\": \\\\\"tablet\\\\\",\\r\\n\\\\\"schedule\\\\\": {\\r\\n\\\\\"dateStart\\\\\": 1012803200000\\r\\n},\\r\\n\\\\\"dosage\\\\\": [],\\r\\n\\\\\"dosage_unit\\\\\": \\\\\"\\\\\",\\r\\n\\\\\"use_dosage\\\\\": [],\\r\\n\\\\\"use_dosage_unit\\\\\": \\\\\"\\\\\",\\r\\n\\\\\"use_calc\\\\\": 0,\\r\\n\\\\\"use_calc_unit\\\\\": \\\\\"\\\\\",\\r\\n\\\\\"use_duration\\\\\": 0,\\r\\n\\\\\"use_duration_unit\\\\\": \\\\\"\\\\\"\\r\\n}\\r\\n]\\r\\n}\",\"requestBody\": {\"content\": {\"application/json\": {\"schema\": {\"$ref\": \"#/components/schemas/MisNewTherapyRequest\"}}}},\"responses\": {\"200\": {\"description\": \"Success\",\"content\": {\"text/plain\": {\"schema\": {\"$ref\": \"#/components/schemas/MisNewTherapyReponse\"}}}}}}},\"/Mis/Check\": {\"post\": {\"tags\": [\"Mis\"],\"summary\": \"(Основное) Проверка назначения (без актуальной терапии) пациенту без сохранения или изменения чего либо\",\"description\": \"Получение максимального значения опасности фармакотерапии(параметр danger 0-1), без учёта предыдущих актуальных назначений.\\r\\n\\r\\nДля правильной работы API с растворами есть несколько правил:\\r\\n- сам раствор добавляется в запрос как отдельный объект \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\", с \\\\\"type\\\\\": \\\\\"LQ\\\\\",\\r\\n- компоненты раствора добавляются как отдельные объекты \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\",\\r\\n- у раствора и его компонентов должен быть одинаковый \\\\\"group\\\\\", он должен быть заполнен и не равен 0,\\r\\n- у компонентов раствора \\\\\"schedule\\\\\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \\\\\"schedule\\\\\" раствора,\\r\\n- \\\\\"method\\\\\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\\r\\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\\r\\n- для расчета скорости введения раствора нужно указать \\\\\"use_duration\\\\\" и \\\\\"use_duration_unit\\\\\", по умолчанию \\\\\"use_duration\\\\\" - 1, \\\\\"use_duration_unit\\\\\" - минута.\\r\\n\\r\\nВ поле disease_classifier указывается:\\r\\n- null или string.Empty - поиск по именам во всех классификаторах,\\r\\n- mkb10 - Поиск именам МКБ10,\\r\\n- mkb10code - Поиск кодам МКБ10,\\r\\n- mkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений).\",\"requestBody\": {\"content\": {\"application/json\": {\"schema\": {\"$ref\": \"#/components/schemas/MisCheckRequest\"}}}},\"responses\": {\"200\": {\"description\": \"Success\",\"content\": {\"text/plain\": {\"schema\": {\"$ref\": \"#/components/schemas/MisCheckReponse\"}}}}}}},\"/Mis/ActualTherapy\": {\"post\": {\"tags\": [\"Mis\"],\"summary\": \"Получение актуальной фармакотерапии пациента (по коду)\",\"requestBody\": {\"content\": {\"application/json\": {\"schema\": {\"$ref\": \"#/components/schemas/MisPatientCodeRequest\"}}}},\"responses\": {\"200\": {\"description\": \"Success\",\"content\": {\"text/plain\": {\"schema\": {\"$ref\": \"#/components/schemas/MisPatientCodeResponse\"}}}}}}},\"/Mis/ActualNewTherapy\": {\"post\": {\"tags\": [\"Mis\"],\"summary\": \"(Дополнительное) Проверка и назначение пациенту новой фармакотерапии c отменой всех предыдущих назначений\",\"description\": \"Данный API предназначен для проверки и назначения пациенту новой фармакотерапии c заменой актуальных назначений указанным. Т.е. все ЛС которые были ранее назначены будут заменены ЛС из запроса. API в ответ возвращает итоговое значение максимального уровня опасности (параметр danger) и URL-ссылку, по которой можно запросить результат проверки листа назначения в web-интерфейсе ЭКФ.\\r\\n\\r\\nДля всех запросов в ответе будет одинаковая ссылка, при открытии которой будет отображаться актульная фармакотерапия и противопоказания по ней.\\r\\n\\r\\nПротивопоказания и ЛС отображаемые при открытии ссылки будут меняться с течением времени, если у ЛС была указана дата окончания приема. При запросе на /Mis/ActualAddTherapy фармакотерапия будет дополняться. При запросах на /Mis/ActualNewTherapy или /Mis/NewTherapy фармакотерапия будет заменяться.\\r\\n\\r\\nДля правильной работы API с растворами есть несколько правил:\\r\\n- сам раствор добавляется в запрос как отдельный объект \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\", с \\\\\"type\\\\\": \\\\\"LQ\\\\\",\\r\\n- компоненты раствора добавляются как отдельные объекты \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\",\\r\\n- у раствора и его компонентов должен быть одинаковый \\\\\"group\\\\\", он должен быть заполнен и не равен 0,\\r\\n- у компонентов раствора \\\\\"schedule\\\\\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \\\\\"schedule\\\\\" раствора,\\r\\n- \\\\\"method\\\\\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\\r\\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\\r\\n- для расчета скорости введения раствора нужно указать \\\\\"use_duration\\\\\" и \\\\\"use_duration_unit\\\\\", по умолчанию \\\\\"use_duration\\\\\" - 1, \\\\\"use_duration_unit\\\\\" - минута.\\r\\n\\r\\n\",\"requestBody\": {\"content\": {\"application/json\": {\"schema\": {\"$ref\": \"#/components/schemas/MisTherapyRequest\"}}}},\"responses\": {\"200\": {\"description\": \"Success\",\"content\": {\"text/plain\": {\"schema\": {\"$ref\": \"#/components/schemas/MisTherapyResponse\"}}}}}}},\"/Mis/ActualAddTherapy\": {\"post\": {\"tags\": [\"Mis\"],\"summary\": \"(Дополнительное) Проверка и назначение пациенту новой фармакотерапии с учетом актуальных назначений\",\"description\": \"Данный API предназначен для проверки и назначения пациенту новой фармакотерапии добавляя к указанной фармакотерапии, актульную фармакотерапию. \\r\\nТ.е. к ЛС из запроса, добавятся ЛС из прошлых назначений, которые по расписанию пациент еще принимает.\\r\\n\\r\\nДля всех запросов в ответе будет одинаковая ссылка, при открытии которой будет отображаться актульная фармакотерапия и противопоказания по ней.\\r\\n\\r\\nПротивопоказания и ЛС отображаемые при открытии ссылки будут меняться с течением времени, если у ЛС была указана дата окончания приема. \\r\\nПри запросе на /Mis/ActualAddTherapy фармакотерапия будет дополняться. \\r\\nПри запросах на /Mis/ActualNewTherapy или /Mis/NewTherapy фармакотерапия будет заменяться.\\r\\n\\r\\nДля правильной работы API с растворами есть несколько правил:\\r\\n- сам раствор добавляется в запрос как отдельный объект \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\", с \\\\\"type\\\\\": \\\\\"LQ\\\\\",\\r\\n- компоненты раствора добавляются как отдельные объекты \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\",\\r\\n- у раствора и его компонентов должен быть одинаковый \\\\\"group\\\\\", он должен быть заполнен и не равен 0,\\r\\n- у компонентов раствора \\\\\"schedule\\\\\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \\\\\"schedule\\\\\" раствора,\\r\\n- \\\\\"method\\\\\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\\r\\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\\r\\n- для расчета скорости введения раствора нужно указать \\\\\"use_duration\\\\\" и \\\\\"use_duration_unit\\\\\", по умолчанию \\\\\"use_duration\\\\\" - 1, \\\\\"use_duration_unit\\\\\" - минута.\\r\\n\\r\\n\",\"requestBody\": {\"content\": {\"application/json\": {\"schema\": {\"$ref\": \"#/components/schemas/MisTherapyRequest\"}}}},\"responses\": {\"200\": {\"description\": \"Success\",\"content\": {\"text/plain\": {\"schema\": {\"$ref\": \"#/components/schemas/MisTherapyResponse\"}}}}}}},\"/Mis/ActualCheck\": {\"post\": {\"tags\": [\"Mis\"],\"summary\": \"(Дополнительное) Проверка назначения (c актуальной терапией) пациенту без сохранения или изменения чего либо\",\"description\": \"Получение максимального значения опасности фармакотерапии(параметр danger 0-1), с учётом предыдущих актуальных назначений.\\r\\n\\r\\nДля правильной работы API с растворами есть несколько правил:\\r\\n- сам раствор добавляется в запрос как отдельный объект \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\", с \\\\\"type\\\\\": \\\\\"LQ\\\\\",\\r\\n- компоненты раствора добавляются как отдельные объекты \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\",\\r\\n- у раствора и его компонентов должен быть одинаковый \\\\\"group\\\\\", он должен быть заполнен и не равен 0,\\r\\n- у компонентов раствора \\\\\"schedule\\\\\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \\\\\"schedule\\\\\" раствора,\\r\\n- \\\\\"method\\\\\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\\r\\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\\r\\n- для расчета скорости введения раствора нужно указать \\\\\"use_duration\\\\\" и \\\\\"use_duration_unit\\\\\", по умолчанию \\\\\"use_duration\\\\\" - 1, \\\\\"use_duration_unit\\\\\" - минута.\\r\\n\\r\\nВ поле disease_classifier указывается:\\r\\n- null или string.Empty - поиск по именам во всех классификаторах,\\r\\n- mkb10 - Поиск именам МКБ10,\\r\\n- mkb10code - Поиск кодам МКБ10,\\r\\n- mkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений).\",\"requestBody\": {\"content\": {\"application/json\": {\"schema\": {\"$ref\": \"#/components/schemas/MisCheckRequest\"}}}},\"responses\": {\"200\": {\"description\": \"Success\",\"content\": {\"text/plain\": {\"schema\": {\"$ref\": \"#/components/schemas/MisCheckReponse\"}}}}}}},\"/Pharm/V2/Check\": {\"post\": {\"tags\": [\"V2\"],\"summary\": \"(Основное) Проверка назначения (без актуальной терапии) пациенту без сохранения или изменения чего либо\",\"description\": \"Получение максимального значения опасности фармакотерапии(параметр danger 0-1), без учёта предыдущих актуальных назначений.\\r\\n\\r\\nДля правильной работы API с растворами есть несколько правил:\\r\\n- сам раствор добавляется в запрос как отдельный объект \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\", с \\\\\"type\\\\\": \\\\\"LQ\\\\\",\\r\\n- компоненты раствора добавляются как отдельные объекты \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\",\\r\\n- у раствора и его компонентов должен быть одинаковый \\\\\"group\\\\\", он должен быть заполнен и не равен 0,\\r\\n- у компонентов раствора \\\\\"schedule\\\\\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \\\\\"schedule\\\\\" раствора,\\r\\n- \\\\\"method\\\\\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\\r\\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\\r\\n- для расчета скорости введения раствора нужно указать \\\\\"use_duration\\\\\" и \\\\\"use_duration_unit\\\\\", по умолчанию \\\\\"use_duration\\\\\" - 1, \\\\\"use_duration_unit\\\\\" - минута.\\r\\n\\r\\nВ поле disease_classifier указывается:\\r\\n- null или string.Empty - поиск по именам во всех классификаторах,\\r\\n- mkb10 - Поиск именам МКБ10,\\r\\n- mkb10code - Поиск кодам МКБ10,\\r\\n- mkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений).\",\"requestBody\": {\"content\": {\"application/json\": {\"schema\": {\"$ref\": \"#/components/schemas/MisCheckRequest\"}}}},\"responses\": {\"200\": {\"description\": \"Success\",\"content\": {\"text/plain\": {\"schema\": {\"$ref\": \"#/components/schemas/MisCheckReponse\"}}}}}}},\"/Pharm/V2/NewTherapy\": {\"post\": {\"tags\": [\"V2\"],\"summary\": \"(Основное) Проверка и назначение пациенту новой фармакотерапии c отменой всех предыдущих назначений\",\"description\": \"Данный API предназначен для проверки и назначения пациенту новой фармакотерапии c заменой актуальных назначений указанным. \\r\\nТ.е. все ЛС которые были ранее назначены будут заменены ЛС из запроса.\\r\\nAPI в ответ возвращает итоговое значение максимального уровня опасности (параметр danger) и URL-ссылку, по которой можно запросить результат проверки листа назначения в web-интерфейсе ЭКФ.\\r\\n\\r\\nДля каждого запроса в ответе будет уникальная ссылка, при открытии которой всегда будут отображаться одиниковые данные, которые не меняются с течением времени или при запросах на другие API.\\r\\n\\r\\nПо данному запросу система ЭКФ анализирует лист назначения и данные пациента, формирует предупреждения и соответствующие рекомендации.\\r\\n\\r\\nДля правильной работы API с растворами есть несколько правил:\\r\\n- сам раствор добавляется в запрос как отдельный объект \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\", с \\\\\"type\\\\\": \\\\\"LQ\\\\\",\\r\\n- компоненты раствора добавляются как отдельные объекты \\\\\"MisDrug\\\\\" в \\\\\"drugs\\\\\",\\r\\n- у раствора и его компонентов должен быть одинаковый \\\\\"group\\\\\", он должен быть заполнен и не равен 0,\\r\\n- у компонентов раствора \\\\\"schedule\\\\\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \\\\\"schedule\\\\\" раствора,\\r\\n- \\\\\"method\\\\\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\\r\\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\\r\\n- для расчета скорости введения раствора нужно указать \\\\\"use_duration\\\\\" и \\\\\"use_duration_unit\\\\\", по умолчанию \\\\\"use_duration\\\\\" - 1, \\\\\"use_duration_unit\\\\\" - минута.\\r\\n\\r\\nВ поле disease_classifier указывается:\\r\\n- null или string.Empty - поиск по именам во всех классификаторах,\\r\\n- mkb10 - Поиск именам МКБ10,\\r\\n- mkb10code - Поиск кодам МКБ10,\\r\\n- mkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений).\",\"requestBody\": {\"content\": {\"application/json\": {\"schema\": {\"$ref\": \"#/components/schemas/MisNewTherapyRequest\"}}}},\"responses\": {\"200\": {\"description\": \"Success\",\"content\": {\"text/plain\": {\"schema\": {\"$ref\": \"#/components/schemas/MisNewTherapyReponseQMS\"}}}}}}},\"/Mis/ConvertUnit\": {\"post\": {\"tags\": [\"Mis\"],\"summary\": \"Конвертация значений из одних единиц измерения в другие.\\r\\nПока только в рамках основных единиц измерения (т.е. миллиграммы в микрограммы, миллилитры в литры и т.д.)\",\"description\": \"Пример запроса, параметр key надо заполнить\\r\\n\\r\\nPOST /ConvertUnit\\r\\n{\\r\\n\\\\\"key\\\\\": \\\\\"\\\\\",\\r\\n\\\\\"lang\\\\\": \\\\\"ru\\\\\",\\r\\n\\\\\"value\\\\\": 350,\\r\\n\\\\\"originalunit\\\\\": \\\\\"мкг\\\\\",\\r\\n\\\\\"targetunit\\\\\": \\\\\"мг\\\\\"\\r\\n}\",\"requestBody\": {\"content\": {\"application/json\": {\"schema\": {\"$ref\": \"#/components/schemas/MisConvertRequest\"}}}},\"responses\": {\"200\": {\"description\": \"Success\",\"content\": {\"text/plain\": {\"schema\": {\"$ref\": \"#/components/schemas/MisConvertResponse\"}}}}}}},\"/Mis/ParseDrugs\": {\"post\": {\"tags\": [\"Mis\"],\"summary\": \"Парсинг МИС-ЛС из списка строк\",\"requestBody\": {\"content\": {\"application/json\": {\"schema\": {\"$ref\": \"#/components/schemas/MisParseDrugsRequest\"}}}},\"responses\": {\"200\": {\"description\": \"Success\",\"content\": {\"text/plain\": {\"schema\": {\"$ref\": \"#/components/schemas/MisParseDrugsResponse\"}}}}}}}},\"components\": {\"schemas\": {\"Alert\": {\"type\": \"object\",\"properties\": {\"code\": {\"type\": \"string\",\"nullable\": true},\"actionCode\": {\"type\": \"integer\",\"format\": \"int32\"},\"title\": {\"type\": \"string\",\"nullable\": true},\"message\": {\"type\": \"string\",\"nullable\": true},\"level\": {\"type\": \"string\",\"nullable\": true},\"sticky\": {\"type\": \"boolean\"}},\"description\": \"Статус обработки запроса\",\"additionalProperties\": false},\"MisCaution\": {\"type\": \"object\",\"properties\": {\"title\": {\"type\": \"string\",\"description\": \"Текст заголовка списка противопоказаний\",\"nullable\": true},\"items\": {\"type\": \"array\",\"items\": {},\"description\": \"Список текстов обнаруженных противопоказаний\",\"nullable\": true}},\"additionalProperties\": false,\"description\": \"Тексты заголовка и списка обнаруженных противопоказаний\"},\"MisConvertRequest\": {\"type\": \"object\",\"required\": [\"key\"],\"properties\": {\"key\": {\"type\": \"string\",\"description\": \"Лицензионный ключ\",\"nullable\": true},\"value\": {\"type\": \"number\",\"description\": \"Значение, которое необходимо конвертировать (например 10)\",\"format\": \"double\",\"nullable\": true},\"originalunit\": {\"type\": \"string\",\"description\": \"Единица измерения значения (например мг)\",\"nullable\": true},\"targetunit\": {\"type\": \"string\",\"description\": \"Единица измерения, куда необходимо конвертировать значение (например мкг)\",\"nullable\": true},\"lang\": {\"type\": \"string\",\"description\": \"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"nullable\": true,\"default\": \"ru\"}},\"additionalProperties\": false},\"MisConvertResponse\": {\"type\": \"object\",\"properties\": {\"alert\": {\"$ref\": \"#/components/schemas/Alert\"},\"originalvalue\": {\"type\": \"number\",\"description\": \"Исходное значение (например 10)\",\"format\": \"double\",\"nullable\": true},\"originalunit\": {\"type\": \"string\",\"description\": \"Единица измерения исходного значения (микрограмм)\",\"nullable\": true},\"originalunitshort\": {\"type\": \"string\",\"description\": \"Единица измерения исходного значения (мкг)\",\"nullable\": true},\"basevalue\": {\"type\": \"number\",\"description\": \"Базовое значения (например 0.00001)\",\"format\": \"double\",\"nullable\": true},\"baseunit\": {\"type\": \"string\",\"description\": \"Единица измерения исходного значения (грамм)\",\"nullable\": true},\"baseunitshort\": {\"type\": \"string\",\"description\": \"Единица измерения исходного значения (г)\",\"nullable\": true},\"targetvalue\": {\"type\": \"number\",\"description\": \"Необходимое значение ()\",\"format\": \"double\",\"nullable\": true},\"targetunit\": {\"type\": \"string\",\"description\": \"Единица измерения необходимого значения (миллиграмм)\",\"nullable\": true},\"targetunitshort\": {\"type\": \"string\",\"description\": \"Единица измерения необходимого значения (мг)\",\"nullable\": true}},\"additionalProperties\": false},\"MisDrug\": {\"type\": \"object\",\"properties\": {\"name\": {\"type\": \"string\",\"description\": \"Наименование ЛС\",\"nullable\": true},\"type\": {\"type\": \"string\",\"description\": \"Тип ЛС (Действующее вещество(DV)/торговое наименование(TN)/раствор(LQ)). LQ указывается когда раствор делается из ДВ или ТН, для растворов в упаковке производителя нужно указывать TN. У раствора и ЛС входящих в него, параметр group должен быть одинаковый\",\"nullable\": true},\"group\": {\"type\": \"integer\",\"description\": \"Номер группы раствора (или DV/TN в составе раствора). Null или 0 - не входит в раствор, указывается только для ЛС входящих в раствор\",\"format\": \"int32\",\"nullable\": true},\"form\": {\"type\": \"string\",\"description\": \"Лекарственная форма ЛС, например: таблетки, таб, драже, држ, раствор, р-р, капсулы, капс, мазь, крем, порошок, пор, спрей, гель, настойка, н-ка\",\"nullable\": true},\"method\": {\"type\": \"string\",\"description\": \"Метод применения ЛС, например: в/в, внутривенное введение, в/м, внутримышечное введение, подкожно, назально, интраназально, внутрь, сублингвально, суббуккально, субарахноидально,  эпидурально, ушные капли, транстимпальное введение, глазные капли, ингаляционно\",\"nullable\": true},\"dosage\": {\"type\": \"array\",\"items\": {\"type\": \"number\",\"format\": \"double\"},\"description\": \"Дозировка/концентрация(например, в случаях раствора) фармпрепарата\",\"nullable\": true},\"dosage_unit\": {\"type\": \"string\",\"description\": \"Единица измерения дозировки/характеристики(концентрации, например, в случаях раствора) фармпрепарата\",\"nullable\": true},\"use_calc\": {\"type\": \"number\",\"description\": \"Количество доз/вещества за 1 приём. Например: 2(г), 20(мл), 300(мг)\",\"format\": \"double\",\"nullable\": true},\"use_calc_unit\": {\"type\": \"string\",\"description\": \"Единица измерения количества доз/вещества, нужно указывать грамм, миллиграмм, литр, миллилитр, т.е. точные единицы измерения\",\"nullable\": true},\"use_duration\": {\"type\": \"number\",\"description\": \"Время за которое надо ввести раствор (капельница), указывается только для растворов\",\"format\": \"double\",\"nullable\": true},\"use_duration_unit\": {\"type\": \"string\",\"description\": \"Единица времени введения раствора, указывается только для растворов\",\"nullable\": true},\"parsedosage\": {\"type\": \"string\",\"description\": \"Дозировка ФП - используется в случае сложностей при самостоятельном формировании dosage и dosage_unit.\\r\\n(ДВК/растворы/и т.д. Например: \\\\\"2.18г+350мг+109мг/5мл\\\\\")\",\"nullable\": true},\"schedule\": {\"$ref\": \"#/components/schemas/MisSchedule\"},\"fp_form\": {\"type\": \"string\",\"description\": \"Форма фармпрепарата (первичная упаковка) - ампулы, флакон, блистер, упаковка\",\"nullable\": true},\"fp_dosage\": {\"type\": \"number\",\"description\": \"Дозировка ФП - 500 (мл), 10(шт) и т.д.\",\"format\": \"double\",\"nullable\": true},\"fp_dosage_unit\": {\"type\": \"string\",\"description\": \"Единица измерения дозировки фармпрепарата\",\"nullable\": true},\"specials\": {\"type\": \"string\",\"description\": \"Комментарий к ЛС\",\"nullable\": true}},\"additionalProperties\": false},\"MisDrugResponse\": {\"type\": \"object\",\"properties\": {\"name\": {\"type\": \"string\",\"description\": \"Наименование ЛС\",\"nullable\": true},\"type\": {\"type\": \"string\",\"description\": \"Тип ЛС (Действующее вещество(DV)/торговое наименование(TN)/раствор(LQ)). LQ указывается когда раствор делается из ДВ или ТН, для растворов в упаковке производителя нужно указывать TN. У раствора и ЛС входящих в него, параметр group должен быть одинаковый\",\"nullable\": true},\"group\": {\"type\": \"integer\",\"description\": \"Номер группы раствора (или DV/TN в составе раствора). Null или 0 - не входит в раствор, указывается только для ЛС входящих в раствор\",\"format\": \"int32\",\"nullable\": true},\"form\": {\"type\": \"string\",\"description\": \"Лекарственная форма ЛС, например: таблетки, таб, драже, држ, раствор, р-р, капсулы, капс, мазь, крем, порошок, пор, спрей, гель, настойка, н-ка\",\"nullable\": true},\"method\": {\"type\": \"string\",\"description\": \"Метод применения ЛС, например: в/в, внутривенное введение, в/м, внутримышечное введение, подкожно, назально, интраназально, внутрь, сублингвально, суббуккально, субарахноидально,  эпидурально, ушные капли, транстимпальное введение, глазные капли, ингаляционно\",\"nullable\": true},\"clinic_code\": {\"type\": \"string\",\"description\": \"Код клиники, в которой назначили ЛС\",\"nullable\": true},\"dep_code\": {\"type\": \"string\",\"description\": \"Код отделения,  в котором назначили ЛС\",\"nullable\": true},\"doctor_code\": {\"type\": \"string\",\"description\": \"Код врача, назначившего ЛС\",\"nullable\": true},\"date\": {\"type\": \"integer\",\"description\": \"Дата (UNIXTime) времени назначения\",\"format\": \"int64\"},\"dosage\": {\"type\": \"array\",\"items\": {\"type\": \"number\",\"format\": \"double\"},\"description\": \"Дозировка/концентрация(например, в случаях раствора) фармпрепарата\",\"nullable\": true},\"dosage_unit\": {\"type\": \"string\",\"description\": \"Единица измерения дозировки/характеристики(концентрации, например, в случаях раствора) фармпрепарата\",\"nullable\": true},\"use_dosage\": {\"type\": \"array\",\"items\": {\"type\": \"number\",\"format\": \"double\"},\"description\": \"Дозировка(кол-ва вещества ЛС) приёма ЛС (1 доза)\",\"nullable\": true},\"use_dosage_unit\": {\"type\": \"string\",\"description\": \"Единица измерения приёма ЛС\",\"nullable\": true},\"use_calc\": {\"type\": \"number\",\"description\": \"Количество доз/вещества за 1 приём. Например: 2(таб), 20(мл), 300(г)\",\"format\": \"double\",\"nullable\": true},\"use_calc_unit\": {\"type\": \"string\",\"description\": \"Единица измерения количества доз/вещества\",\"nullable\": true},\"use_duration\": {\"type\": \"number\",\"description\": \"Время за которое надо ввести раствор (капельница), указывается только для растворов\",\"format\": \"double\",\"nullable\": true},\"use_duration_unit\": {\"type\": \"string\",\"description\": \"Единица времени введения раствора, указывается только для растворов\",\"nullable\": true},\"parsedosage\": {\"type\": \"string\",\"description\": \"Дозировка ФП - используется в случае сложностей при самостоятельном формировании dosage и dosage_unit.\\r\\n(ДВК/растворы/и т.д. Например: \\\\\"2.18г+350мг+109мг/5мл\\\\\")\",\"nullable\": true},\"schedule\": {\"$ref\": \"#/components/schemas/MisSchedule\"},\"fp_form\": {\"type\": \"string\",\"description\": \"Форма фармпрепарата (первичная упаковка) - ампулы, флакон, блистер, упаковка\",\"nullable\": true},\"fp_dosage\": {\"type\": \"number\",\"description\": \"Дозировка ФП - 500 (мл), 10(шт) и т.д.\",\"format\": \"double\",\"nullable\": true},\"fp_dosage_unit\": {\"type\": \"string\",\"description\": \"Единица измерения дозировки фармпрепарата\",\"nullable\": true},\"specials\": {\"type\": \"string\",\"description\": \"Комментарий к ЛС\",\"nullable\": true}},\"additionalProperties\": false},\"MisCheckRequest\": {\"type\": \"object\",\"required\": [\"key\",\"clinic\",\"doctor\",\"patient\"],\"properties\": {\"key\": {\"type\": \"string\",\"description\": \"Лицензионный ключ\",\"nullable\": true},\"clinic\": {\"type\": \"string\",\"description\": \"Индентификатор(код) клиники. Обязательное поле\",\"nullable\": true},\"clinic_name\": {\"type\": \"string\",\"description\": \"Наименование клиники\",\"nullable\": true},\"department\": {\"type\": \"string\",\"description\": \"Индентификатор(код) отделения\",\"nullable\": true},\"department_name\": {\"type\": \"string\",\"description\": \"Наименование отделения\",\"nullable\": true},\"doctor\": {\"type\": \"string\",\"description\": \"Индентификатор(код) врача. Обязательное поле\",\"nullable\": true},\"doctor_name\": {\"type\": \"string\",\"description\": \"Имя врача\",\"nullable\": true},\"patient\": {\"$ref\": \"#/components/schemas/MisPatient\"},\"drugs\": {\"type\": \"array\",\"items\": {\"$ref\": \"#/components/schemas/MisDrug\"},\"description\": \"Список формализованных ЛС. Более предпочтительное поле при обмене информацией. Если одно ЛС будет указано здесь и в parsedrugs, то в назначении будут оба\",\"nullable\": true},\"parsedrugs\": {\"type\": \"array\",\"items\": {\"type\": \"string\"},\"description\": \"Список ЛС свободным текстом, используется только в случае, если нет возможности передать ЛС в формализованном виде. Если одно ЛС будет указано здесь и в drugs, то в назначении будут оба\",\"nullable\": true},\"duplicate_drugs_allow\": {\"type\": \"boolean\",\"description\": \"Разрешить добавление дубликатов ЛС. По умолчанию false.\\r\\nИспользуется при учёте предыдущей фармакотерапии.\\r\\nМеханизм: если добавляется копия уже назначенного ЛС (с такой же лекарственной формой и способом применения), то ЛС предыдущего назначения отменяется.\\r\\nНе касается самодельных растворов.\\r\\n\\r\\nЭто булевой параметр, который включает и отключает возможность дублирования назначения препаратов. \\r\\nНапример, если ранее пациенту был назначен Ибупрофен с дозировкой 200мг, то при отправке повторного запроса, \\r\\nсодержащего Ибупрофен с дозировкой 200мг, система будет считать, что это - дублирующее назначение и, при условии, что параметр \\r\\nduplicate_drugs_allow передан как false, не будет добавлять ещё один Ибупрофен с дозировкой 200мг. В случае же, если параметр передан как true, \\r\\nпроверка на дубли не производится и в итоговой фармакотерапии будет два препарата Ибупрофен с дозировкой 200мг.\\r\\nНеобходимо учитывать, что, исходя из логики работы этого параметра, он актуален только для изменения уже существующей фармакотерапии\"},\"return_subjects\": {\"type\": \"boolean\",\"description\": \"Флаг того, что необходимо вернуть всю актуальную фармакотерапию, true - для тестирования и отладки, false - для штатной работы\"},\"lang\": {\"type\": \"string\",\"description\": \"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"nullable\": true,\"default\": \"ru\"}},\"description\": \"Формат приема данных от МИС\"},\"MisCheckReponse\": {\"type\": \"object\",\"properties\": {\"alert\": {\"$ref\": \"#/components/schemas/Alert\"},\"key\": {\"type\": \"string\",\"description\": \"Лицензионный ключ\",\"nullable\": true},\"clinic\": {\"type\": \"string\",\"description\": \"Индентификатор(код) клиники. Обязательное поле\",\"nullable\": true},\"clinic_name\": {\"type\": \"string\",\"description\": \"Наименование клиники\",\"nullable\": true},\"department\": {\"type\": \"string\",\"description\": \"Индентификатор(код) отделения\",\"nullable\": true},\"department_name\": {\"type\": \"string\",\"description\": \"Наименование отделения\",\"nullable\": true},\"doctor\": {\"type\": \"string\",\"description\": \"Индентификатор(код) врача\",\"nullable\": true},\"doctor_name\": {\"type\": \"string\",\"description\": \"Имя врача\",\"nullable\": true},\"url\": {\"type\": \"string\",\"description\": \"Ссылка на результаты назначения конкретной фармакотерапии, только если указан код клиники, доктора, пациента\",\"nullable\": true},\"danger\": {\"type\": \"number\",\"description\": \"Степень максимальной опасности лекарственного назначения\",\"format\": \"double\",\"nullable\": true},\"caution\": {\"$ref\": \"#/components/schemas/MisCaution\"},\"duplicate_drugs_allow\": {\"type\": \"boolean\",\"description\": \"Разрешить добавление дубликатов ЛС. По умолчанию false.\\r\\nИспользуется при учёте предыдущей фармакотерапии.\\r\\nМеханизм: если добавляется копия уже назначенного ЛС (с такой же лекарственной формой и способом применения), то ЛС предыдущего назначения отменяется.\\r\\nНе касается самодельных растворов.\\r\\n\\r\\nЭто булевой параметр, который включает и отключает возможность дублирования назначения препаратов. \\r\\nНапример, если ранее пациенту был назначен Ибупрофен с дозировкой 200мг, то при отправке повторного запроса, \\r\\nсодержащего Ибупрофен с дозировкой 200мг, система будет считать, что это - дублирующее назначение и, при условии, что параметр \\r\\nduplicate_drugs_allow передан как false, не будет добавлять ещё один Ибупрофен с дозировкой 200мг. В случае же, если параметр передан как true, \\r\\nпроверка на дубли не производится и в итоговой фармакотерапии будет два препарата Ибупрофен с дозировкой 200мг.\\r\\nНеобходимо учитывать, что, исходя из логики работы этого параметра, он актуален только для изменения уже существующей фармакотерапии\"},\"return_subjects\": {\"type\": \"boolean\",\"description\": \"Флаг того, что необходимо вернуть всю актуальную фармакотерапию, true - для тестирования и отладки, false - для штатной работы\"},\"lang\": {\"type\": \"string\",\"description\": \"Язык, на котором будет восприниматься запрос и формироваться ответ (по умолчанию \\\\\"ru\\\\\")\",\"nullable\": true,\"default\": \"ru\"}},\"additionalProperties\": false,\"description\": \"Формат передачи данных при работе с МИС-ами\"},\"MisNewTherapyRequest\": {\"type\": \"object\",\"required\": [\"key\",\"clinic\",\"doctor\",\"patient\"],\"properties\": {\"key\": {\"type\": \"string\",\"description\": \"Лицензионный ключ\",\"nullable\": true},\"clinic\": {\"type\": \"string\",\"description\": \"Индентификатор(код) клиники. Обязательное поле\",\"nullable\": true},\"clinic_name\": {\"type\": \"string\",\"description\": \"Наименование клиники\",\"nullable\": true},\"department\": {\"type\": \"string\",\"description\": \"Индентификатор(код) отделения\",\"nullable\": true},\"department_name\": {\"type\": \"string\",\"description\": \"Наименование отделения\",\"nullable\": true},\"doctor\": {\"type\": \"string\",\"description\": \"Индентификатор(код) врача. Обязательное поле\",\"nullable\": true},\"doctor_name\": {\"type\": \"string\",\"description\": \"Имя врача\",\"nullable\": true},\"patient\": {\"$ref\": \"#/components/schemas/MisPatient\"},\"drugs\": {\"type\": \"array\",\"items\": {\"$ref\": \"#/components/schemas/MisDrug\"},\"description\": \"Список формализованных ЛС. Более предпочтительное поле при обмене информацией. Если одно ЛС будет указано здесь и в parsedrugs, то в назначении будут оба\",\"nullable\": true},\"parsedrugs\": {\"type\": \"array\",\"items\": {\"type\": \"string\"},\"description\": \"Список ЛС свободным текстом, используется только в случае, если нет возможности передать ЛС в формализованном виде. Если одно ЛС будет указано здесь и в drugs, то в назначении будут оба\",\"nullable\": true},\"lang\": {\"type\": \"string\",\"description\": \"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"nullable\": true,\"default\": \"ru\"}},\"description\": \"Формат приема данных от МИС\"},\"MisNewTherapyReponse\": {\"type\": \"object\",\"properties\": {\"alert\": {\"$ref\": \"#/components/schemas/Alert\"},\"key\": {\"type\": \"string\",\"description\": \"Лицензионный ключ\",\"nullable\": true},\"clinic\": {\"type\": \"string\",\"description\": \"Индентификатор(код) клиники. Обязательное поле\",\"nullable\": true},\"clinic_name\": {\"type\": \"string\",\"description\": \"Наименование клиники\",\"nullable\": true},\"department\": {\"type\": \"string\",\"description\": \"Индентификатор(код) отделения\",\"nullable\": true},\"department_name\": {\"type\": \"string\",\"description\": \"Наименование отделения\",\"nullable\": true},\"doctor\": {\"type\": \"string\",\"description\": \"Индентификатор(код) врача\",\"nullable\": true},\"doctor_name\": {\"type\": \"string\",\"description\": \"Имя врача\",\"nullable\": true},\"url\": {\"type\": \"string\",\"description\": \"Ссылка на результаты назначения конкретной фармакотерапии, только если указан код клиники, доктора, пациента\",\"nullable\": true},\"danger\": {\"type\": \"number\",\"description\": \"Степень максимальной опасности лекарственного назначения\",\"format\": \"double\",\"nullable\": true},\"caution\": {\"$ref\": \"#/components/schemas/MisCaution\"},\"lang\": {\"type\": \"string\",\"description\": \"Язык, на котором будет восприниматься запрос и формироваться ответ (по умолчанию \\\\\"ru\\\\\")\",\"nullable\": true,\"default\": \"ru\"}},\"additionalProperties\": false,\"description\": \"Формат передачи данных при работе с МИС-ами\"},\"MisParseDrugsRequest\": {\"type\": \"object\",\"required\": [\"key\"],\"properties\": {\"key\": {\"type\": \"string\",\"description\": \"Лицензионный ключ клиента\",\"nullable\": true},\"texts\": {\"type\": \"array\",\"items\": {\"type\": \"string\"},\"description\": \"Список ЛС, в свободной форме, которые необходимо формализовать\",\"nullable\": true},\"lang\": {\"type\": \"string\",\"description\": \"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"nullable\": true,\"default\": \"ru\"}},\"additionalProperties\": false},\"MisParseDrugsResponse\": {\"type\": \"object\",\"properties\": {\"alert\": {\"$ref\": \"#/components/schemas/Alert\"},\"drugs\": {\"type\": \"array\",\"items\": {\"$ref\": \"#/components/schemas/MisDrug\"},\"description\": \"Список ЛС\",\"nullable\": true}},\"additionalProperties\": false},\"MisPatient\": {\"type\": \"object\",\"required\": [\"code\",\"clinical_case\"],\"properties\": {\"code\": {\"type\": \"string\",\"description\": \"Идентификатор(код) пациента. Обязательное поле\",\"nullable\": true},\"clinical_case\": {\"type\": \"string\",\"description\": \"№ истории болезни/эпизода. Обязательное поле\",\"nullable\": true},\"lastname\": {\"type\": \"string\",\"description\": \"Фамилия пациента\",\"nullable\": true},\"firstname\": {\"type\": \"string\",\"description\": \"Имя пациента\",\"nullable\": true},\"patronymic\": {\"type\": \"string\",\"description\": \"Отчество пациента\",\"nullable\": true},\"snils\": {\"type\": \"string\",\"description\": \"СНИЛС\",\"nullable\": true},\"email\": {\"type\": \"string\",\"description\": \"Email пациента\",\"nullable\": true},\"birthdate\": {\"type\": \"integer\",\"description\": \"День рождения пациента (UnixTime мс)\\r\\nпри рождении до 00:00:00 UTC 1 января 1970 года - отрицательное число.\",\"format\": \"int64\",\"nullable\": true},\"sex\": {\"type\": \"string\",\"description\": \"Пол: man/woman, male/femail, m/f\",\"nullable\": true},\"growth\": {\"type\": \"number\",\"description\": \"Рост (в см)\",\"format\": \"double\",\"nullable\": true},\"weight\": {\"type\": \"number\",\"description\": \"Вес (в кг)\",\"format\": \"double\",\"nullable\": true},\"disease\": {\"type\": \"array\",\"items\": {\"type\": \"string\"},\"description\": \"Основные заболевания, при заполнении обратить внимание на параметр disease_classifier\",\"nullable\": true},\"co_disease\": {\"type\": \"array\",\"items\": {\"type\": \"string\"},\"description\": \"Сопутствующие заболевания, при заполнении обратить внимание на параметр disease_classifier\",\"nullable\": true},\"disease_classifier\": {\"type\": \"string\",\"description\": \"Классификатор болезней (mkb10, mkb11, SNOMED и т.д.) - определение конкретного классификатора нозологий (по умолчанию null)\\r\\nВ данный момент список работающих тегов:\\r\\nnull или string.Empty - поиск по именам во всех классификаторах\\r\\nmkb10 - Поиск именам МКБ10\\r\\nmkb10code - Поиск кодам МКБ10\\r\\nmkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений)\",\"nullable\": true},\"allergy\": {\"type\": \"array\",\"items\": {\"type\": \"string\"},\"description\": \"Аллергия\",\"nullable\": true},\"pregnancy\": {\"type\": \"boolean\",\"description\": \"Флаг беременности\"},\"trimester\": {\"type\": \"integer\",\"description\": \"Триместер беременности\",\"format\": \"int32\",\"nullable\": true},\"gestation\": {\"type\": \"integer\",\"description\": \"Неделя беременности\",\"format\": \"int32\",\"nullable\": true},\"lactation\": {\"type\": \"boolean\",\"description\": \"Флаг кормления грудью\"},\"alcohol\": {\"type\": \"boolean\",\"description\": \"Флаг употребления алкоголя (включение проверки на алкоголь)\"},\"driving\": {\"type\": \"boolean\",\"description\": \"Флаг вождения\"},\"name\": {\"type\": \"string\",\"description\": \"ФИО пациента (не рекомендуется к использованию т.к. устаревшее, при заполнении firstname, lastname и patronymic (необязательно) будет заменяться их содержимым)\",\"nullable\": true,\"deprecated\": true}},\"additionalProperties\": false,\"description\": \"Данные пациента\"},\"MisPatientCodeRequest\": {\"type\": \"object\",\"required\": [\"key\",\"clinical_case\",\"clinic_code\",\"doctor_code\",\"patient_code\"],\"properties\": {\"key\": {\"type\": \"string\",\"description\": \"Постоянный ключ авторизации\",\"nullable\": true},\"clinic_code\": {\"type\": \"string\",\"description\": \"Код клиники. Обязательное поле\",\"nullable\": true},\"doctor_code\": {\"type\": \"string\",\"description\": \"Код врача. Обязательное поле\",\"nullable\": true},\"patient_code\": {\"type\": \"string\",\"description\": \"Код пациента. Обязательное поле\",\"nullable\": true},\"clinical_case\": {\"type\": \"string\",\"description\": \"№ истории болезни/эпизода. Обязательное поле\",\"nullable\": true},\"active_language\": {\"type\": \"string\",\"description\": \"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"nullable\": true,\"default\": \"ru\"}},\"additionalProperties\": false},\"MisPatientCodeResponse\": {\"type\": \"object\",\"properties\": {\"alert\": {\"$ref\": \"#/components/schemas/Alert\"},\"patient\": {\"$ref\": \"#/components/schemas/MisPatient\"},\"drugs\": {\"type\": \"array\",\"items\": {\"$ref\": \"#/components/schemas/MisDrugResponse\"},\"description\": \"Список ЛС\",\"nullable\": true},\"url\": {\"type\": \"string\",\"description\": \"Ссылка на ЭКФ для получения и проверки всей актуальной фармакотерапии пациента\",\"nullable\": true}},\"additionalProperties\": false,\"description\": \"Формат передачи данных при работе с МИС-ами\"},\"MisTherapyRequest\": {\"type\": \"object\",\"required\": [\"key\",\"clinic\",\"doctor\",\"patient\"],\"properties\": {\"key\": {\"type\": \"string\",\"description\": \"Лицензионный ключ\",\"nullable\": true},\"clinic\": {\"type\": \"string\",\"description\": \"Индентификатор(код) клиники. Обязательное поле\",\"nullable\": true},\"clinic_name\": {\"type\": \"string\",\"description\": \"Наименование клиники\",\"nullable\": true},\"department\": {\"type\": \"string\",\"description\": \"Индентификатор(код) отделения\",\"nullable\": true},\"department_name\": {\"type\": \"string\",\"description\": \"Наименование отделения\",\"nullable\": true},\"doctor\": {\"type\": \"string\",\"description\": \"Индентификатор(код) врача. Обязательное поле\",\"nullable\": true},\"doctor_name\": {\"type\": \"string\",\"description\": \"Имя врача\",\"nullable\": true},\"patient\": {\"$ref\": \"#/components/schemas/MisPatient\"},\"drugs\": {\"type\": \"array\",\"items\": {\"$ref\": \"#/components/schemas/MisDrug\"},\"description\": \"Список формализованных ЛС. Более предпочтительное поле при обмене информацией. Если одно ЛС будет указано здесь и в parsedrugs, то в назначении будут оба\",\"nullable\": true},\"parsedrugs\": {\"type\": \"array\",\"items\": {\"type\": \"string\"},\"description\": \"Список ЛС свободным текстом, используется только в случае, если нет возможности передать ЛС в формализованном виде. Если одно ЛС будет указано здесь и в drugs, то в назначении будут оба\",\"nullable\": true},\"duplicate_drugs_allow\": {\"type\": \"boolean\",\"description\": \"Разрешить добавление дубликатов ЛС. По умолчанию false.\\r\\nИспользуется при учёте предыдущей фармакотерапии.\\r\\nМеханизм: если добавляется копия уже назначенного ЛС (с такой же лекарственной формой и способом применения), то ЛС предыдущего назначения отменяется.\\r\\nНе касается самодельных растворов.\\r\\n\\r\\nЭто булевой параметр, который включает и отключает возможность дублирования назначения препаратов. \\r\\nНапример, если ранее пациенту был назначен Ибупрофен с дозировкой 200мг, то при отправке повторного запроса, \\r\\nсодержащего Ибупрофен с дозировкой 200мг, система будет считать, что это - дублирующее назначение и, при условии, что параметр \\r\\nduplicate_drugs_allow передан как false, не будет добавлять ещё один Ибупрофен с дозировкой 200мг. В случае же, если параметр передан как true, \\r\\nпроверка на дубли не производится и в итоговой фармакотерапии будет два препарата Ибупрофен с дозировкой 200мг.\\r\\nНеобходимо учитывать, что, исходя из логики работы этого параметра, он актуален только для изменения уже существующей фармакотерапии\"},\"return_subjects\": {\"type\": \"boolean\",\"description\": \"Флаг того, что необходимо вернуть всю актуальную фармакотерапию, true - для тестирования и отладки, false - для штатной работы\"},\"lang\": {\"type\": \"string\",\"description\": \"Язык, на котором будет восприниматься запрос и формироваться ответ (по умолчанию \\\\\"ru\\\\\")\",\"nullable\": true,\"default\": \"ru\"}},\"description\": \"Формат приема данных от МИС\"},\"MisTherapyResponse\": {\"type\": \"object\",\"properties\": {\"alert\": {\"$ref\": \"#/components/schemas/Alert\"},\"key\": {\"type\": \"string\",\"description\": \"Лицензионный ключ\",\"nullable\": true},\"clinic\": {\"type\": \"string\",\"description\": \"Индентификатор(код) клиники. Обязательное поле\",\"nullable\": true},\"clinic_name\": {\"type\": \"string\",\"description\": \"Наименование клиники\",\"nullable\": true},\"department\": {\"type\": \"string\",\"description\": \"Индентификатор(код) отделения\",\"nullable\": true},\"department_name\": {\"type\": \"string\",\"description\": \"Наименование отделения\",\"nullable\": true},\"doctor\": {\"type\": \"string\",\"description\": \"Индентификатор(код) врача. Обязательное поле\",\"nullable\": true},\"doctor_name\": {\"type\": \"string\",\"description\": \"Имя врача\",\"nullable\": true},\"patient\": {\"$ref\": \"#/components/schemas/MisPatient\"},\"drugs\": {\"type\": \"array\",\"items\": {\"$ref\": \"#/components/schemas/MisDrugResponse\"},\"description\": \"Список формализованных ЛС. Более предпочтительное поле при обмене информацией. Если одно ЛС будет указано здесь и в parsedrugs, то в назначении будут оба\",\"nullable\": true},\"parsedrugs\": {\"type\": \"array\",\"items\": {\"type\": \"string\"},\"description\": \"Список ЛС свободным текстом, используется только в случае, если нет возможности передать ЛС в формализованном виде. Если одно ЛС будет указано здесь и в drugs, то в назначении будут оба\",\"nullable\": true},\"url\": {\"type\": \"string\",\"description\": \"Ссылка на ЭКФ для получения и проверки всей актуальной фармакотерапии пациента, а не на результаты проверки результаты проверки\",\"nullable\": true},\"danger\": {\"type\": \"number\",\"description\": \"Степень максимальной опасности лекарственного назначения, диапазон 0.0-1.0 показывает опасность назначения, если значение меньше 0, то это рациональное сочетание\",\"format\": \"double\",\"nullable\": true},\"caution\": {\"$ref\": \"#/components/schemas/MisCaution\"},\"duplicate_drugs_allow\": {\"type\": \"boolean\",\"description\": \"Разрешить добавление дубликатов ЛС. По умолчанию false.\\r\\nИспользуется при учёте предыдущей фармакотерапии.\\r\\nМеханизм: если добавляется копия уже назначенного ЛС (с такой же лекарственной формой и способом применения), то ЛС предыдущего назначения отменяется.\\r\\nНе касается самодельных растворов.\\r\\n\\r\\nЭто булевой параметр, который включает и отключает возможность дублирования назначения препаратов. \\r\\nНапример, если ранее пациенту был назначен Ибупрофен с дозировкой 200мг, то при отправке повторного запроса, \\r\\nсодержащего Ибупрофен с дозировкой 200мг, система будет считать, что это - дублирующее назначение и, при условии, что параметр \\r\\nduplicate_drugs_allow передан как false, не будет добавлять ещё один Ибупрофен с дозировкой 200мг. В случае же, если параметр передан как true, \\r\\nпроверка на дубли не производится и в итоговой фармакотерапии будет два препарата Ибупрофен с дозировкой 200мг.\\r\\nНеобходимо учитывать, что, исходя из логики работы этого параметра, он актуален только для изменения уже существующей фармакотерапии\"},\"return_subjects\": {\"type\": \"boolean\",\"description\": \"Флаг того, что необходимо вернуть всю актуальную фармакотерапию, true - для тестирования и отладки, false - для штатной работы\"},\"lang\": {\"type\": \"string\",\"description\": \"Язык, на котором будет восприниматься запрос и формироваться ответ (по умолчанию \\\\\"ru\\\\\")\",\"nullable\": true,\"default\": \"ru\"}},\"additionalProperties\": false,\"description\": \"Формат ответа на запрос МИС\"},\"MisSchedule\": {\"type\": \"object\",\"properties\": {\"appointmentСalendar\": {\"type\": \"array\",\"items\": {\"$ref\": \"#/components/schemas/MisAppointmentCalendar\"},\"description\": \"Расписание приёма ЛС\",\"nullable\": true},\"duration\": {\"type\": \"string\",\"description\": \"Продолжительность приёма, если заполнено dateFinish будет пересчитано для соответствия например: \\\\\"5 дней\\\\\"\",\"nullable\": true},\"sequence\": {\"type\": \"string\",\"description\": \"Кратность приёма ЛС, например: \\r\\n\\\\\"1 раз в день\\\\\", \\\\\"2 раза в день\\\\\", \\\\\"2 р\\\\д\\\\\", \\\\\"3 раза в день\\\\\", \\\\\"4 раза в день\\\\\", \\\\\"5 раз в день\\\\\", \\r\\n\\\\\"каждые 30 мин\\\\\", \\\\\"каждый час\\\\\", \\\\\"каждые 2 часа\\\\\", \\\\\"каждые 3 часа\\\\\", \\\\\"каждые 4 часа\\\\\", \\r\\n\\\\\"1 раз в 2 дня\\\\\", \\\\\"1 раз в 3 дня\\\\\", \\\\\"1 раз в 4 дня\\\\\", \\\\\"1 раз в 5 дней\\\\\", \\\\\"1 раз в 10 дней\\\\\", \\r\\n\\\\\"1 раз в неделю\\\\\", \\\\\"1 раз в 2 недели\\\\\", \\\\\"1 раз в 3 недели\\\\\", \\r\\n\\\\\"1 раз в месяц\\\\\", \\\\\"1 раз в 2 месяца\\\\\", \\\\\"1 раз в 3 месяца\\\\\", \\\\\"1 раз в полгода\\\\\", \\\\\"1 раз в год\\\\\"\",\"nullable\": true},\"dateStart\": {\"type\": \"integer\",\"description\": \"Дата начала приёма ЛС (unixtime в мс)\",\"format\": \"int64\",\"nullable\": true},\"dateFinish\": {\"type\": \"integer\",\"description\": \"Дата окончания приёма (unixtime в мс)\",\"format\": \"int64\",\"nullable\": true},\"finishAlternate\": {\"type\": \"string\",\"description\": \"Условия окончания приёма (не дата), например: \\\\\"до отмены\\\\\"\",\"nullable\": true}},\"additionalProperties\": false,\"description\": \"Расписание приёма\"},\"MisAppointmentCalendar\": {\"type\": \"object\",\"properties\": {\"date\": {\"type\": \"integer\",\"description\": \"Дата приёма (unixtime в мс)\",\"format\": \"int64\",\"nullable\": true},\"timeReceipt\": {\"type\": \"array\",\"items\": {\"$ref\": \"#/components/schemas/MisAppointmentCalendarItem\"},\"description\": \"Время приема и дозировка\",\"nullable\": true}},\"additionalProperties\": false,\"description\": \"Календарь приема ЛС\"},\"MisAppointmentCalendarItem\": {\"type\": \"object\",\"properties\": {\"hours\": {\"type\": \"integer\",\"description\": \"Часы\",\"format\": \"int32\"},\"minutes\": {\"type\": \"integer\",\"description\": \"Минуты\",\"format\": \"int32\"},\"count\": {\"type\": \"number\",\"description\": \"Дозировка, указывается в ЕИ use_calc_unit\",\"format\": \"double\",\"nullable\": true}},\"additionalProperties\": false,\"description\": \"Время приема и дозировка\"},\"MisNewTherapyReponseQMS\": {\"type\": \"object\",\"properties\": {\"key\": {\"type\": \"string\",\"description\": \"Лицензионный ключ\",\"nullable\": true},\"authkey\": {\"type\": \"string\",\"description\": \"Сгенерированный биллингом токен\",\"nullable\": true},\"clinic\": {\"type\": \"string\",\"description\": \"Индентификатор(код) клиники. Обязательное поле\",\"nullable\": true},\"clinic_name\": {\"type\": \"string\",\"description\": \"Наименование клиники\",\"nullable\": true},\"department\": {\"type\": \"string\",\"description\": \"Индентификатор(код) отделения\",\"nullable\": true},\"department_name\": {\"type\": \"string\",\"description\": \"Наименование отделения\",\"nullable\": true},\"doctor\": {\"type\": \"string\",\"description\": \"Индентификатор(код) врача. Обязательное поле\",\"nullable\": true},\"doctor_name\": {\"type\": \"string\",\"description\": \"Имя врача\",\"nullable\": true},\"url\": {\"type\": \"string\",\"description\": \"Ссылка на фронт ЭКФ на результаты назначения конкретной фармакотерапии, только если указан код клиники, доктора, пациента\",\"nullable\": true},\"danger\": {\"type\": \"number\",\"description\": \"Степень максимальной опасности лекарственного назначения\",\"format\": \"double\",\"nullable\": true},\"caution\": {\"$ref\": \"#/components/schemas/MisCaution\"},\"lang\": {\"type\": \"string\",\"description\": \"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"default\": \"ru\",\"nullable\": true},\"alert\": {\"$ref\": \"#/components/schemas/Alert\"}},\"additionalProperties\": false,\"description\": \"Формат передачи данных при работе с МИС-ами\"}}}}";
        //static string ecpJson = "{\"openapi\":\"3.0.1\",\"info\":{\"title\":\"ECP MIS API\",\"description\":\"Ниже описаны API, необходимые для осуществления логики взаимодействия между системами МИС и ЭКФ, описанные в [памятке](https://www.ecp.umkb.com/mis) по интеграции.\r\n\r\nДомен для запросов [https://service.socmedica.com:9004](https://service.socmedica.com:9004).\r\n\r\nВсе запросы должны быть отправлены методом POST. Все ответы приходят в формате JSON. Для запросов и ответов используется один и тот же формат передачи данных.\r\n\r\nВнимание:\r\n- приведённые ниже примеры описывают лишь структуру ожидаемых данных,\r\n- формат зависит от используемых для передачи запросов технологий,\r\n- во всех запросах должен присутствовать параметр key (ключ доступа),\r\n- параметры, указанные в каждом API ниже рекомендуемы к заполнению,\r\n- параметры, помеченные красной * - обязательные.\r\n\r\n\",\"version\":\"2.0.2.0\"},\"servers\":[{\"url\":\"https://service.socmedica.com:9004\"}],\"paths\":{\"/Mis/NewTherapy\":{\"post\":{\"tags\":[\"Mis\"],\"summary\":\"(Основное) Проверка и назначение пациенту новой фармакотерапии c отменой всех предыдущих назначений\",\"description\":\"Данный API предназначен для проверки и назначения пациенту новой фармакотерапии c заменой актуальных назначений указанным. Т.е. все ЛС которые были ранее назначены будут заменены ЛС из запроса. API в ответ возвращает итоговое значение максимального уровня опасности (параметр danger) и URL-ссылку, по которой можно запросить результат проверки листа назначения в web-интерфейсе ЭКФ.\r\n\r\nДля каждого запроса в ответе будет уникальная ссылка, при открытии которой всегда будут отображаться одиниковые данные, которые не меняются с течением времени или при запросах на другие API.\r\n\r\nПо данному запросу система ЭКФ анализирует лист назначения и данные пациента, формирует предупреждения и соответствующие рекомендации.\r\n\r\nДля правильной работы API с растворами есть несколько правил:\r\n- сам раствор добавляется в запрос как отдельный объект \"MisDrug\" в \"drugs\", с \"type\":\"LQ\",\r\n- компоненты раствора добавляются как отдельные объекты \"MisDrug\" в \"drugs\",\r\n- у раствора и его компонентов должен быть одинаковый \"group\", он должен быть заполнен и не равен 0,\r\n- у компонентов раствора \"schedule\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \"schedule\" раствора,\r\n- \"method\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\r\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\r\n- для расчета скорости введения раствора нужно указать \"use_duration\" и \"use_duration_unit\", по умолчанию \"use_duration\" - 1, \"use_duration_unit\" - минута.\r\n\r\nВ поле disease_classifier указывается:\r\n- null или string.Empty - поиск по именам во всех классификаторах,\r\n- mkb10 - Поиск именам МКБ10,\r\n- mkb10code - Поиск кодам МКБ10,\r\n- mkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений).\r\n\r\nПример запроса с диагнозом по коду МКБ-10, параметр key надо заполнить.\r\nВ поле disease/co-disease указывается код заболевания по МКБ-10\r\n\r\nPOST /NewTherapy\r\n{\r\n\"key\":\"ВВЕДИТЕ ВАШ КЛЮЧ!!!\",\r\n\"clinic\":\"Clinic56\",\r\n\"clinic_name\":\"Test Clinic\",\r\n\"department\":\"Department976\",\r\n\"department_name\":\"Test Department\",\r\n\"doctor\":\"Doctor26\",\r\n\"doctor_name\":\"Test Doctor\",\r\n\"patient\":{\r\n\"code\":\"TestPat398\",\r\n\"clinical_case\":\"АБ22/5366293\",\r\n\"lastname\":\"Patient\",\r\n\"firstname\":\"Test\",\r\n\"patronymic\":\"MKB10\",\r\n\"snils\":\"123-456-789 00\",\r\n\"email\":\"test@email.net\",\r\n\"birthdate\":1050095200000,\r\n\"sex\":\"m\",\r\n\"growth\":190,\r\n\"weight\":80,\r\n\"disease\":[\r\n\"J11.1\"\r\n],\r\n\"co_disease\":[\r\n\"I15.2\"\r\n],\r\n\"disease_classifier\":\"mkb10code\",\r\n\"allergy\":[\r\n\"йод\"\r\n],\r\n\"alcohol\":true,\r\n\"driving\":true\r\n},\r\n\"drugs\":[\r\n{\r\n\"name\":\"Парацетамол\",\r\n\"type\":\"TN\",\r\n\"form\":\"таблетка\",\r\n\"method\":\"в/в\",\r\n\"dosage\":[\r\n2.5\r\n ],\r\n\"dosage_unit\":\"мг\",\r\n\"use_calc\":1,\r\n\"use_calc_unit\":\"г\",\r\n\"schedule\":{\r\n\"dateStart\":1661904000000,\r\n\"duration\":\"ежедневно\",\r\n\"sequence\":\"1 раз в день\"\r\n},\r\n\"fp_form\":\"блистер\",\r\n\"fp_dosage\":10,\r\n\"fp_dosage_unit\":\"штука\",\r\n\"specials\":\"после еды\"\r\n}\r\n],\r\n\"parsedrugs\":[\r\n\"Умифеновир 10 мг 3 раза в день по 0,5 г до отмены\"\r\n],\r\n\"lang\":\"ru\"\r\n}\r\n\r\n\r\n\r\nПример запроса с диагнозом строкой, параметр key надо заполнить\r\n\r\nPOST /NewTherapy\r\n\r\n{\r\n\"key\":\"ВВЕДИТЕ ВАШ КЛЮЧ!!!\",\r\n\"lang\":\"ru\",\r\n\"clinical_case\":\"АБ22/5366293\",\r\n\"clinic\":\"test\",\r\n\"clinic_name\":\"test\",\r\n\"department\":\"1\",\r\n\"department_name\":\"Clinic department\",\r\n\"doctor\":\"6\",\r\n\"doctor_name\":\"Testovy Vrach\",\r\n\"patient\":{\r\n\"name\":\"Test Pat\",\r\n\"code\":\"398\",\r\n\"birthdate\":1050095200000,\r\n\"snils\":\"123-456-789 00\",\r\n\"sex\":\"male\",\r\n\"disease\":[\r\n\"Influenza\"\r\n],\r\n\"co_disease\":[],\r\n\"allergy\":[],\r\n\"pregnancy\":false,\r\n\"lactation\":false,\r\n\"alcohol\":false,\r\n\"driving\":false,\r\n\"disease_classifier\":null\r\n},\r\n\"parsedrugs\":[\r\n\"Arbidol\"\r\n],\r\n\"drugs\":[\r\n{\r\n\"name\":\"Arbidol\",\r\n\"type\":\"DV\",\r\n\"form\":\"tablet\",\r\n\"schedule\":{\r\n\"dateStart\":1012803200000\r\n},\r\n\"dosage\":[],\r\n\"dosage_unit\":\"\",\r\n\"use_dosage\":[],\r\n\"use_dosage_unit\":\"\",\r\n\"use_calc\":0,\r\n\"use_calc_unit\":\"\",\r\n\"use_duration\":0,\r\n\"use_duration_unit\":\"\"\r\n}\r\n]\r\n}\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/MisNewTherapyRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/MisNewTherapyReponse\"}}}}}}},\"/Mis/Check\":{\"post\":{\"tags\":[\"Mis\"],\"summary\":\"(Основное) Проверка назначения (без актуальной терапии) пациенту без сохранения или изменения чего либо\",\"description\":\"Получение максимального значения опасности фармакотерапии(параметр danger 0-1), без учёта предыдущих актуальных назначений.\r\n\r\nДля правильной работы API с растворами есть несколько правил:\r\n- сам раствор добавляется в запрос как отдельный объект \"MisDrug\" в \"drugs\", с \"type\":\"LQ\",\r\n- компоненты раствора добавляются как отдельные объекты \"MisDrug\" в \"drugs\",\r\n- у раствора и его компонентов должен быть одинаковый \"group\", он должен быть заполнен и не равен 0,\r\n- у компонентов раствора \"schedule\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \"schedule\" раствора,\r\n- \"method\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\r\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\r\n- для расчета скорости введения раствора нужно указать \"use_duration\" и \"use_duration_unit\", по умолчанию \"use_duration\" - 1, \"use_duration_unit\" - минута.\r\n\r\nВ поле disease_classifier указывается:\r\n- null или string.Empty - поиск по именам во всех классификаторах,\r\n- mkb10 - Поиск именам МКБ10,\r\n- mkb10code - Поиск кодам МКБ10,\r\n- mkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений).\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/MisCheckRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/MisCheckReponse\"}}}}}}},\"/Mis/ActualTherapy\":{\"post\":{\"tags\":[\"Mis\"],\"summary\":\"Получение актуальной фармакотерапии пациента (по коду)\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/MisPatientCodeRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/MisPatientCodeResponse\"}}}}}}},\"/Mis/ActualNewTherapy\":{\"post\":{\"tags\":[\"Mis\"],\"summary\":\"(Дополнительное) Проверка и назначение пациенту новой фармакотерапии c отменой всех предыдущих назначений\",\"description\":\"Данный API предназначен для проверки и назначения пациенту новой фармакотерапии c заменой актуальных назначений указанным. Т.е. все ЛС которые были ранее назначены будут заменены ЛС из запроса. API в ответ возвращает итоговое значение максимального уровня опасности (параметр danger) и URL-ссылку, по которой можно запросить результат проверки листа назначения в web-интерфейсе ЭКФ.\r\n\r\nДля всех запросов в ответе будет одинаковая ссылка, при открытии которой будет отображаться актульная фармакотерапия и противопоказания по ней.\r\n\r\nПротивопоказания и ЛС отображаемые при открытии ссылки будут меняться с течением времени, если у ЛС была указана дата окончания приема. При запросе на /Mis/ActualAddTherapy фармакотерапия будет дополняться. При запросах на /Mis/ActualNewTherapy или /Mis/NewTherapy фармакотерапия будет заменяться.\r\n\r\nДля правильной работы API с растворами есть несколько правил:\r\n- сам раствор добавляется в запрос как отдельный объект \"MisDrug\" в \"drugs\", с \"type\":\"LQ\",\r\n- компоненты раствора добавляются как отдельные объекты \"MisDrug\" в \"drugs\",\r\n- у раствора и его компонентов должен быть одинаковый \"group\", он должен быть заполнен и не равен 0,\r\n- у компонентов раствора \"schedule\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \"schedule\" раствора,\r\n- \"method\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\r\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\r\n- для расчета скорости введения раствора нужно указать \"use_duration\" и \"use_duration_unit\", по умолчанию \"use_duration\" - 1, \"use_duration_unit\" - минута.\r\n\r\n\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/MisTherapyRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/MisTherapyResponse\"}}}}}}},\"/Mis/ActualAddTherapy\":{\"post\":{\"tags\":[\"Mis\"],\"summary\":\"(Дополнительное) Проверка и назначение пациенту новой фармакотерапии с учетом актуальных назначений\",\"description\":\"Данный API предназначен для проверки и назначения пациенту новой фармакотерапии добавляя к указанной фармакотерапии, актульную фармакотерапию. \r\nТ.е. к ЛС из запроса, добавятся ЛС из прошлых назначений, которые по расписанию пациент еще принимает.\r\n\r\nДля всех запросов в ответе будет одинаковая ссылка, при открытии которой будет отображаться актульная фармакотерапия и противопоказания по ней.\r\n\r\nПротивопоказания и ЛС отображаемые при открытии ссылки будут меняться с течением времени, если у ЛС была указана дата окончания приема. \r\nПри запросе на /Mis/ActualAddTherapy фармакотерапия будет дополняться. \r\nПри запросах на /Mis/ActualNewTherapy или /Mis/NewTherapy фармакотерапия будет заменяться.\r\n\r\nДля правильной работы API с растворами есть несколько правил:\r\n- сам раствор добавляется в запрос как отдельный объект \"MisDrug\" в \"drugs\", с \"type\":\"LQ\",\r\n- компоненты раствора добавляются как отдельные объекты \"MisDrug\" в \"drugs\",\r\n- у раствора и его компонентов должен быть одинаковый \"group\", он должен быть заполнен и не равен 0,\r\n- у компонентов раствора \"schedule\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \"schedule\" раствора,\r\n- \"method\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\r\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\r\n- для расчета скорости введения раствора нужно указать \"use_duration\" и \"use_duration_unit\", по умолчанию \"use_duration\" - 1, \"use_duration_unit\" - минута.\r\n\r\n\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/MisTherapyRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/MisTherapyResponse\"}}}}}}},\"/Mis/ActualCheck\":{\"post\":{\"tags\":[\"Mis\"],\"summary\":\"(Дополнительное) Проверка назначения (c актуальной терапией) пациенту без сохранения или изменения чего либо\",\"description\":\"Получение максимального значения опасности фармакотерапии(параметр danger 0-1), с учётом предыдущих актуальных назначений.\r\n\r\nДля правильной работы API с растворами есть несколько правил:\r\n- сам раствор добавляется в запрос как отдельный объект \"MisDrug\" в \"drugs\", с \"type\":\"LQ\",\r\n- компоненты раствора добавляются как отдельные объекты \"MisDrug\" в \"drugs\",\r\n- у раствора и его компонентов должен быть одинаковый \"group\", он должен быть заполнен и не равен 0,\r\n- у компонентов раствора \"schedule\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \"schedule\" раствора,\r\n- \"method\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\r\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\r\n- для расчета скорости введения раствора нужно указать \"use_duration\" и \"use_duration_unit\", по умолчанию \"use_duration\" - 1, \"use_duration_unit\" - минута.\r\n\r\nВ поле disease_classifier указывается:\r\n- null или string.Empty - поиск по именам во всех классификаторах,\r\n- mkb10 - Поиск именам МКБ10,\r\n- mkb10code - Поиск кодам МКБ10,\r\n- mkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений).\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/MisCheckRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/MisCheckReponse\"}}}}}}},\"/Pharm/V2/Check\":{\"post\":{\"tags\":[\"V2\"],\"summary\":\"(Основное) Проверка назначения (без актуальной терапии) пациенту без сохранения или изменения чего либо\",\"description\":\"Получение максимального значения опасности фармакотерапии(параметр danger 0-1), без учёта предыдущих актуальных назначений.\r\n\r\nДля правильной работы API с растворами есть несколько правил:\r\n- сам раствор добавляется в запрос как отдельный объект \"MisDrug\" в \"drugs\", с \"type\":\"LQ\",\r\n- компоненты раствора добавляются как отдельные объекты \"MisDrug\" в \"drugs\",\r\n- у раствора и его компонентов должен быть одинаковый \"group\", он должен быть заполнен и не равен 0,\r\n- у компонентов раствора \"schedule\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \"schedule\" раствора,\r\n- \"method\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\r\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\r\n- для расчета скорости введения раствора нужно указать \"use_duration\" и \"use_duration_unit\", по умолчанию \"use_duration\" - 1, \"use_duration_unit\" - минута.\r\n\r\nВ поле disease_classifier указывается:\r\n- null или string.Empty - поиск по именам во всех классификаторах,\r\n- mkb10 - Поиск именам МКБ10,\r\n- mkb10code - Поиск кодам МКБ10,\r\n- mkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений).\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/MisCheckRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/MisCheckReponse\"}}}}}}},\"/Pharm/V2/NewTherapy\":{\"post\":{\"tags\":[\"V2\"],\"summary\":\"(Основное) Проверка и назначение пациенту новой фармакотерапии c отменой всех предыдущих назначений\",\"description\":\"Данный API предназначен для проверки и назначения пациенту новой фармакотерапии c заменой актуальных назначений указанным. \r\nТ.е. все ЛС которые были ранее назначены будут заменены ЛС из запроса.\r\nAPI в ответ возвращает итоговое значение максимального уровня опасности (параметр danger) и URL-ссылку, по которой можно запросить результат проверки листа назначения в web-интерфейсе ЭКФ.\r\n\r\nДля каждого запроса в ответе будет уникальная ссылка, при открытии которой всегда будут отображаться одиниковые данные, которые не меняются с течением времени или при запросах на другие API.\r\n\r\nПо данному запросу система ЭКФ анализирует лист назначения и данные пациента, формирует предупреждения и соответствующие рекомендации.\r\n\r\nДля правильной работы API с растворами есть несколько правил:\r\n- сам раствор добавляется в запрос как отдельный объект \"MisDrug\" в \"drugs\", с \"type\":\"LQ\",\r\n- компоненты раствора добавляются как отдельные объекты \"MisDrug\" в \"drugs\",\r\n- у раствора и его компонентов должен быть одинаковый \"group\", он должен быть заполнен и не равен 0,\r\n- у компонентов раствора \"schedule\" не нужно заполнять, данные будут сохранены, но в расчетах участвовать не будут, будут использованы данные из \"schedule\" раствора,\r\n- \"method\" нужно указывать только для раствора, у компонентов раствора это будет проигнорировано,\r\n- все дозировки нужно указывать у компонентов раствора, для раствора все дозировки считаются по дозировкам компонентов,\r\n- для расчета скорости введения раствора нужно указать \"use_duration\" и \"use_duration_unit\", по умолчанию \"use_duration\" - 1, \"use_duration_unit\" - минута.\r\n\r\nВ поле disease_classifier указывается:\r\n- null или string.Empty - поиск по именам во всех классификаторах,\r\n- mkb10 - Поиск именам МКБ10,\r\n- mkb10code - Поиск кодам МКБ10,\r\n- mkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений).\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/MisNewTherapyRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/MisNewTherapyReponseQMS\"}}}}}}},\"/Mis/ConvertUnit\":{\"post\":{\"tags\":[\"Mis\"],\"summary\":\"Конвертация значений из одних единиц измерения в другие.\r\nПока только в рамках основных единиц измерения (т.е. миллиграммы в микрограммы, миллилитры в литры и т.д.)\",\"description\":\"Пример запроса, параметр key надо заполнить\r\n\r\nPOST /ConvertUnit\r\n{\r\n\"key\":\"\",\r\n\"lang\":\"ru\",\r\n\"value\":350,\r\n\"originalunit\":\"мкг\",\r\n\"targetunit\":\"мг\"\r\n}\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/MisConvertRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/MisConvertResponse\"}}}}}}},\"/Mis/ParseDrugs\":{\"post\":{\"tags\":[\"Mis\"],\"summary\":\"Парсинг МИС-ЛС из списка строк\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/MisParseDrugsRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/MisParseDrugsResponse\"}}}}}}}},\"components\":{\"schemas\":{\"Alert\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\",\"nullable\":true},\"actionCode\":{\"type\":\"integer\",\"format\":\"int32\"},\"title\":{\"type\":\"string\",\"nullable\":true},\"message\":{\"type\":\"string\",\"nullable\":true},\"level\":{\"type\":\"string\",\"nullable\":true},\"sticky\":{\"type\":\"boolean\"}},\"description\":\"Статус обработки запроса\",\"additionalProperties\":false},\"MisCaution\":{\"type\":\"object\",\"properties\":{\"title\":{\"type\":\"string\",\"description\":\"Текст заголовка списка противопоказаний\",\"nullable\":true},\"items\":{\"type\":\"array\",\"items\":{},\"description\":\"Список текстов обнаруженных противопоказаний\",\"nullable\":true}},\"additionalProperties\":false,\"description\":\"Тексты заголовка и списка обнаруженных противопоказаний\"},\"MisConvertRequest\":{\"type\":\"object\",\"required\":[\"key\"],\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"Лицензионный ключ\",\"nullable\":true},\"value\":{\"type\":\"number\",\"description\":\"Значение, которое необходимо конвертировать (например 10)\",\"format\":\"double\",\"nullable\":true},\"originalunit\":{\"type\":\"string\",\"description\":\"Единица измерения значения (например мг)\",\"nullable\":true},\"targetunit\":{\"type\":\"string\",\"description\":\"Единица измерения, куда необходимо конвертировать значение (например мкг)\",\"nullable\":true},\"lang\":{\"type\":\"string\",\"description\":\"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"nullable\":true,\"default\":\"ru\"}},\"additionalProperties\":false},\"MisConvertResponse\":{\"type\":\"object\",\"properties\":{\"alert\":{\"$ref\":\"#/components/schemas/Alert\"},\"originalvalue\":{\"type\":\"number\",\"description\":\"Исходное значение (например 10)\",\"format\":\"double\",\"nullable\":true},\"originalunit\":{\"type\":\"string\",\"description\":\"Единица измерения исходного значения (микрограмм)\",\"nullable\":true},\"originalunitshort\":{\"type\":\"string\",\"description\":\"Единица измерения исходного значения (мкг)\",\"nullable\":true},\"basevalue\":{\"type\":\"number\",\"description\":\"Базовое значения (например 0.00001)\",\"format\":\"double\",\"nullable\":true},\"baseunit\":{\"type\":\"string\",\"description\":\"Единица измерения исходного значения (грамм)\",\"nullable\":true},\"baseunitshort\":{\"type\":\"string\",\"description\":\"Единица измерения исходного значения (г)\",\"nullable\":true},\"targetvalue\":{\"type\":\"number\",\"description\":\"Необходимое значение ()\",\"format\":\"double\",\"nullable\":true},\"targetunit\":{\"type\":\"string\",\"description\":\"Единица измерения необходимого значения (миллиграмм)\",\"nullable\":true},\"targetunitshort\":{\"type\":\"string\",\"description\":\"Единица измерения необходимого значения (мг)\",\"nullable\":true}},\"additionalProperties\":false},\"MisDrug\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"description\":\"Наименование ЛС\",\"nullable\":true},\"type\":{\"type\":\"string\",\"description\":\"Тип ЛС (Действующее вещество(DV)/торговое наименование(TN)/раствор(LQ)). LQ указывается когда раствор делается из ДВ или ТН, для растворов в упаковке производителя нужно указывать TN. У раствора и ЛС входящих в него, параметр group должен быть одинаковый\",\"nullable\":true},\"group\":{\"type\":\"integer\",\"description\":\"Номер группы раствора (или DV/TN в составе раствора). Null или 0 - не входит в раствор, указывается только для ЛС входящих в раствор\",\"format\":\"int32\",\"nullable\":true},\"form\":{\"type\":\"string\",\"description\":\"Лекарственная форма ЛС, например: таблетки, таб, драже, држ, раствор, р-р, капсулы, капс, мазь, крем, порошок, пор, спрей, гель, настойка, н-ка\",\"nullable\":true},\"method\":{\"type\":\"string\",\"description\":\"Метод применения ЛС, например: в/в, внутривенное введение, в/м, внутримышечное введение, подкожно, назально, интраназально, внутрь, сублингвально, суббуккально, субарахноидально,  эпидурально, ушные капли, транстимпальное введение, глазные капли, ингаляционно\",\"nullable\":true},\"dosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"description\":\"Дозировка/концентрация(например, в случаях раствора) фармпрепарата\",\"nullable\":true},\"dosage_unit\":{\"type\":\"string\",\"description\":\"Единица измерения дозировки/характеристики(концентрации, например, в случаях раствора) фармпрепарата\",\"nullable\":true},\"use_calc\":{\"type\":\"number\",\"description\":\"Количество доз/вещества за 1 приём. Например: 2(г), 20(мл), 300(мг)\",\"format\":\"double\",\"nullable\":true},\"use_calc_unit\":{\"type\":\"string\",\"description\":\"Единица измерения количества доз/вещества, нужно указывать грамм, миллиграмм, литр, миллилитр, т.е. точные единицы измерения\",\"nullable\":true},\"use_duration\":{\"type\":\"number\",\"description\":\"Время за которое надо ввести раствор (капельница), указывается только для растворов\",\"format\":\"double\",\"nullable\":true},\"use_duration_unit\":{\"type\":\"string\",\"description\":\"Единица времени введения раствора, указывается только для растворов\",\"nullable\":true},\"parsedosage\":{\"type\":\"string\",\"description\":\"Дозировка ФП - используется в случае сложностей при самостоятельном формировании dosage и dosage_unit.\r\n(ДВК/растворы/и т.д. Например: \"2.18г+350мг+109мг/5мл\")\",\"nullable\":true},\"schedule\":{\"$ref\":\"#/components/schemas/MisSchedule\"},\"fp_form\":{\"type\":\"string\",\"description\":\"Форма фармпрепарата (первичная упаковка) - ампулы, флакон, блистер, упаковка\",\"nullable\":true},\"fp_dosage\":{\"type\":\"number\",\"description\":\"Дозировка ФП - 500 (мл), 10(шт) и т.д.\",\"format\":\"double\",\"nullable\":true},\"fp_dosage_unit\":{\"type\":\"string\",\"description\":\"Единица измерения дозировки фармпрепарата\",\"nullable\":true},\"specials\":{\"type\":\"string\",\"description\":\"Комментарий к ЛС\",\"nullable\":true}},\"additionalProperties\":false},\"MisDrugResponse\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"description\":\"Наименование ЛС\",\"nullable\":true},\"type\":{\"type\":\"string\",\"description\":\"Тип ЛС (Действующее вещество(DV)/торговое наименование(TN)/раствор(LQ)). LQ указывается когда раствор делается из ДВ или ТН, для растворов в упаковке производителя нужно указывать TN. У раствора и ЛС входящих в него, параметр group должен быть одинаковый\",\"nullable\":true},\"group\":{\"type\":\"integer\",\"description\":\"Номер группы раствора (или DV/TN в составе раствора). Null или 0 - не входит в раствор, указывается только для ЛС входящих в раствор\",\"format\":\"int32\",\"nullable\":true},\"form\":{\"type\":\"string\",\"description\":\"Лекарственная форма ЛС, например: таблетки, таб, драже, држ, раствор, р-р, капсулы, капс, мазь, крем, порошок, пор, спрей, гель, настойка, н-ка\",\"nullable\":true},\"method\":{\"type\":\"string\",\"description\":\"Метод применения ЛС, например: в/в, внутривенное введение, в/м, внутримышечное введение, подкожно, назально, интраназально, внутрь, сублингвально, суббуккально, субарахноидально,  эпидурально, ушные капли, транстимпальное введение, глазные капли, ингаляционно\",\"nullable\":true},\"clinic_code\":{\"type\":\"string\",\"description\":\"Код клиники, в которой назначили ЛС\",\"nullable\":true},\"dep_code\":{\"type\":\"string\",\"description\":\"Код отделения,  в котором назначили ЛС\",\"nullable\":true},\"doctor_code\":{\"type\":\"string\",\"description\":\"Код врача, назначившего ЛС\",\"nullable\":true},\"date\":{\"type\":\"integer\",\"description\":\"Дата (UNIXTime) времени назначения\",\"format\":\"int64\"},\"dosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"description\":\"Дозировка/концентрация(например, в случаях раствора) фармпрепарата\",\"nullable\":true},\"dosage_unit\":{\"type\":\"string\",\"description\":\"Единица измерения дозировки/характеристики(концентрации, например, в случаях раствора) фармпрепарата\",\"nullable\":true},\"use_dosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"description\":\"Дозировка(кол-ва вещества ЛС) приёма ЛС (1 доза)\",\"nullable\":true},\"use_dosage_unit\":{\"type\":\"string\",\"description\":\"Единица измерения приёма ЛС\",\"nullable\":true},\"use_calc\":{\"type\":\"number\",\"description\":\"Количество доз/вещества за 1 приём. Например: 2(таб), 20(мл), 300(г)\",\"format\":\"double\",\"nullable\":true},\"use_calc_unit\":{\"type\":\"string\",\"description\":\"Единица измерения количества доз/вещества\",\"nullable\":true},\"use_duration\":{\"type\":\"number\",\"description\":\"Время за которое надо ввести раствор (капельница), указывается только для растворов\",\"format\":\"double\",\"nullable\":true},\"use_duration_unit\":{\"type\":\"string\",\"description\":\"Единица времени введения раствора, указывается только для растворов\",\"nullable\":true},\"parsedosage\":{\"type\":\"string\",\"description\":\"Дозировка ФП - используется в случае сложностей при самостоятельном формировании dosage и dosage_unit.\r\n(ДВК/растворы/и т.д. Например: \"2.18г+350мг+109мг/5мл\")\",\"nullable\":true},\"schedule\":{\"$ref\":\"#/components/schemas/MisSchedule\"},\"fp_form\":{\"type\":\"string\",\"description\":\"Форма фармпрепарата (первичная упаковка) - ампулы, флакон, блистер, упаковка\",\"nullable\":true},\"fp_dosage\":{\"type\":\"number\",\"description\":\"Дозировка ФП - 500 (мл), 10(шт) и т.д.\",\"format\":\"double\",\"nullable\":true},\"fp_dosage_unit\":{\"type\":\"string\",\"description\":\"Единица измерения дозировки фармпрепарата\",\"nullable\":true},\"specials\":{\"type\":\"string\",\"description\":\"Комментарий к ЛС\",\"nullable\":true}},\"additionalProperties\":false},\"MisCheckRequest\":{\"type\":\"object\",\"required\":[\"key\",\"clinic\",\"doctor\",\"patient\"],\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"Лицензионный ключ\",\"nullable\":true},\"clinic\":{\"type\":\"string\",\"description\":\"Индентификатор(код) клиники. Обязательное поле\",\"nullable\":true},\"clinic_name\":{\"type\":\"string\",\"description\":\"Наименование клиники\",\"nullable\":true},\"department\":{\"type\":\"string\",\"description\":\"Индентификатор(код) отделения\",\"nullable\":true},\"department_name\":{\"type\":\"string\",\"description\":\"Наименование отделения\",\"nullable\":true},\"doctor\":{\"type\":\"string\",\"description\":\"Индентификатор(код) врача. Обязательное поле\",\"nullable\":true},\"doctor_name\":{\"type\":\"string\",\"description\":\"Имя врача\",\"nullable\":true},\"patient\":{\"$ref\":\"#/components/schemas/MisPatient\"},\"drugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/MisDrug\"},\"description\":\"Список формализованных ЛС. Более предпочтительное поле при обмене информацией. Если одно ЛС будет указано здесь и в parsedrugs, то в назначении будут оба\",\"nullable\":true},\"parsedrugs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Список ЛС свободным текстом, используется только в случае, если нет возможности передать ЛС в формализованном виде. Если одно ЛС будет указано здесь и в drugs, то в назначении будут оба\",\"nullable\":true},\"duplicate_drugs_allow\":{\"type\":\"boolean\",\"description\":\"Разрешить добавление дубликатов ЛС. По умолчанию false.\r\nИспользуется при учёте предыдущей фармакотерапии.\r\nМеханизм: если добавляется копия уже назначенного ЛС (с такой же лекарственной формой и способом применения), то ЛС предыдущего назначения отменяется.\r\nНе касается самодельных растворов.\r\n\r\nЭто булевой параметр, который включает и отключает возможность дублирования назначения препаратов. \r\nНапример, если ранее пациенту был назначен Ибупрофен с дозировкой 200мг, то при отправке повторного запроса, \r\nсодержащего Ибупрофен с дозировкой 200мг, система будет считать, что это - дублирующее назначение и, при условии, что параметр \r\nduplicate_drugs_allow передан как false, не будет добавлять ещё один Ибупрофен с дозировкой 200мг. В случае же, если параметр передан как true, \r\nпроверка на дубли не производится и в итоговой фармакотерапии будет два препарата Ибупрофен с дозировкой 200мг.\r\nНеобходимо учитывать, что, исходя из логики работы этого параметра, он актуален только для изменения уже существующей фармакотерапии\"},\"return_subjects\":{\"type\":\"boolean\",\"description\":\"Флаг того, что необходимо вернуть всю актуальную фармакотерапию, true - для тестирования и отладки, false - для штатной работы\"},\"lang\":{\"type\":\"string\",\"description\":\"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"nullable\":true,\"default\":\"ru\"}},\"description\":\"Формат приема данных от МИС\"},\"MisCheckReponse\":{\"type\":\"object\",\"properties\":{\"alert\":{\"$ref\":\"#/components/schemas/Alert\"},\"key\":{\"type\":\"string\",\"description\":\"Лицензионный ключ\",\"nullable\":true},\"clinic\":{\"type\":\"string\",\"description\":\"Индентификатор(код) клиники. Обязательное поле\",\"nullable\":true},\"clinic_name\":{\"type\":\"string\",\"description\":\"Наименование клиники\",\"nullable\":true},\"department\":{\"type\":\"string\",\"description\":\"Индентификатор(код) отделения\",\"nullable\":true},\"department_name\":{\"type\":\"string\",\"description\":\"Наименование отделения\",\"nullable\":true},\"doctor\":{\"type\":\"string\",\"description\":\"Индентификатор(код) врача\",\"nullable\":true},\"doctor_name\":{\"type\":\"string\",\"description\":\"Имя врача\",\"nullable\":true},\"url\":{\"type\":\"string\",\"description\":\"Ссылка на результаты назначения конкретной фармакотерапии, только если указан код клиники, доктора, пациента\",\"nullable\":true},\"danger\":{\"type\":\"number\",\"description\":\"Степень максимальной опасности лекарственного назначения\",\"format\":\"double\",\"nullable\":true},\"caution\":{\"$ref\":\"#/components/schemas/MisCaution\"},\"duplicate_drugs_allow\":{\"type\":\"boolean\",\"description\":\"Разрешить добавление дубликатов ЛС. По умолчанию false.\r\nИспользуется при учёте предыдущей фармакотерапии.\r\nМеханизм: если добавляется копия уже назначенного ЛС (с такой же лекарственной формой и способом применения), то ЛС предыдущего назначения отменяется.\r\nНе касается самодельных растворов.\r\n\r\nЭто булевой параметр, который включает и отключает возможность дублирования назначения препаратов. \r\nНапример, если ранее пациенту был назначен Ибупрофен с дозировкой 200мг, то при отправке повторного запроса, \r\nсодержащего Ибупрофен с дозировкой 200мг, система будет считать, что это - дублирующее назначение и, при условии, что параметр \r\nduplicate_drugs_allow передан как false, не будет добавлять ещё один Ибупрофен с дозировкой 200мг. В случае же, если параметр передан как true, \r\nпроверка на дубли не производится и в итоговой фармакотерапии будет два препарата Ибупрофен с дозировкой 200мг.\r\nНеобходимо учитывать, что, исходя из логики работы этого параметра, он актуален только для изменения уже существующей фармакотерапии\"},\"return_subjects\":{\"type\":\"boolean\",\"description\":\"Флаг того, что необходимо вернуть всю актуальную фармакотерапию, true - для тестирования и отладки, false - для штатной работы\"},\"lang\":{\"type\":\"string\",\"description\":\"Язык, на котором будет восприниматься запрос и формироваться ответ (по умолчанию \"ru\")\",\"nullable\":true,\"default\":\"ru\"}},\"additionalProperties\":false,\"description\":\"Формат передачи данных при работе с МИС-ами\"},\"MisNewTherapyRequest\":{\"type\":\"object\",\"required\":[\"key\",\"clinic\",\"doctor\",\"patient\"],\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"Лицензионный ключ\",\"nullable\":true},\"clinic\":{\"type\":\"string\",\"description\":\"Индентификатор(код) клиники. Обязательное поле\",\"nullable\":true},\"clinic_name\":{\"type\":\"string\",\"description\":\"Наименование клиники\",\"nullable\":true},\"department\":{\"type\":\"string\",\"description\":\"Индентификатор(код) отделения\",\"nullable\":true},\"department_name\":{\"type\":\"string\",\"description\":\"Наименование отделения\",\"nullable\":true},\"doctor\":{\"type\":\"string\",\"description\":\"Индентификатор(код) врача. Обязательное поле\",\"nullable\":true},\"doctor_name\":{\"type\":\"string\",\"description\":\"Имя врача\",\"nullable\":true},\"patient\":{\"$ref\":\"#/components/schemas/MisPatient\"},\"drugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/MisDrug\"},\"description\":\"Список формализованных ЛС. Более предпочтительное поле при обмене информацией. Если одно ЛС будет указано здесь и в parsedrugs, то в назначении будут оба\",\"nullable\":true},\"parsedrugs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Список ЛС свободным текстом, используется только в случае, если нет возможности передать ЛС в формализованном виде. Если одно ЛС будет указано здесь и в drugs, то в назначении будут оба\",\"nullable\":true},\"lang\":{\"type\":\"string\",\"description\":\"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"nullable\":true,\"default\":\"ru\"}},\"description\":\"Формат приема данных от МИС\"},\"MisNewTherapyReponse\":{\"type\":\"object\",\"properties\":{\"alert\":{\"$ref\":\"#/components/schemas/Alert\"},\"key\":{\"type\":\"string\",\"description\":\"Лицензионный ключ\",\"nullable\":true},\"clinic\":{\"type\":\"string\",\"description\":\"Индентификатор(код) клиники. Обязательное поле\",\"nullable\":true},\"clinic_name\":{\"type\":\"string\",\"description\":\"Наименование клиники\",\"nullable\":true},\"department\":{\"type\":\"string\",\"description\":\"Индентификатор(код) отделения\",\"nullable\":true},\"department_name\":{\"type\":\"string\",\"description\":\"Наименование отделения\",\"nullable\":true},\"doctor\":{\"type\":\"string\",\"description\":\"Индентификатор(код) врача\",\"nullable\":true},\"doctor_name\":{\"type\":\"string\",\"description\":\"Имя врача\",\"nullable\":true},\"url\":{\"type\":\"string\",\"description\":\"Ссылка на результаты назначения конкретной фармакотерапии, только если указан код клиники, доктора, пациента\",\"nullable\":true},\"danger\":{\"type\":\"number\",\"description\":\"Степень максимальной опасности лекарственного назначения\",\"format\":\"double\",\"nullable\":true},\"caution\":{\"$ref\":\"#/components/schemas/MisCaution\"},\"lang\":{\"type\":\"string\",\"description\":\"Язык, на котором будет восприниматься запрос и формироваться ответ (по умолчанию \"ru\")\",\"nullable\":true,\"default\":\"ru\"}},\"additionalProperties\":false,\"description\":\"Формат передачи данных при работе с МИС-ами\"},\"MisParseDrugsRequest\":{\"type\":\"object\",\"required\":[\"key\"],\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"Лицензионный ключ клиента\",\"nullable\":true},\"texts\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Список ЛС, в свободной форме, которые необходимо формализовать\",\"nullable\":true},\"lang\":{\"type\":\"string\",\"description\":\"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"nullable\":true,\"default\":\"ru\"}},\"additionalProperties\":false},\"MisParseDrugsResponse\":{\"type\":\"object\",\"properties\":{\"alert\":{\"$ref\":\"#/components/schemas/Alert\"},\"drugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/MisDrug\"},\"description\":\"Список ЛС\",\"nullable\":true}},\"additionalProperties\":false},\"MisPatient\":{\"type\":\"object\",\"required\":[\"code\",\"clinical_case\"],\"properties\":{\"code\":{\"type\":\"string\",\"description\":\"Идентификатор(код) пациента. Обязательное поле\",\"nullable\":true},\"clinical_case\":{\"type\":\"string\",\"description\":\"№ истории болезни/эпизода. Обязательное поле\",\"nullable\":true},\"lastname\":{\"type\":\"string\",\"description\":\"Фамилия пациента\",\"nullable\":true},\"firstname\":{\"type\":\"string\",\"description\":\"Имя пациента\",\"nullable\":true},\"patronymic\":{\"type\":\"string\",\"description\":\"Отчество пациента\",\"nullable\":true},\"snils\":{\"type\":\"string\",\"description\":\"СНИЛС\",\"nullable\":true},\"email\":{\"type\":\"string\",\"description\":\"Email пациента\",\"nullable\":true},\"birthdate\":{\"type\":\"integer\",\"description\":\"День рождения пациента (UnixTime мс)\r\nпри рождении до 00:00:00 UTC 1 января 1970 года - отрицательное число.\",\"format\":\"int64\",\"nullable\":true},\"sex\":{\"type\":\"string\",\"description\":\"Пол: man/woman, male/femail, m/f\",\"nullable\":true},\"growth\":{\"type\":\"number\",\"description\":\"Рост (в см)\",\"format\":\"double\",\"nullable\":true},\"weight\":{\"type\":\"number\",\"description\":\"Вес (в кг)\",\"format\":\"double\",\"nullable\":true},\"disease\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Основные заболевания, при заполнении обратить внимание на параметр disease_classifier\",\"nullable\":true},\"co_disease\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Сопутствующие заболевания, при заполнении обратить внимание на параметр disease_classifier\",\"nullable\":true},\"disease_classifier\":{\"type\":\"string\",\"description\":\"Классификатор болезней (mkb10, mkb11, SNOMED и т.д.) - определение конкретного классификатора нозологий (по умолчанию null)\r\nВ данный момент список работающих тегов:\r\nnull или string.Empty - поиск по именам во всех классификаторах\r\nmkb10 - Поиск именам МКБ10\r\nmkb10code - Поиск кодам МКБ10\r\nmkb10multi - Поиск в МКБ10 и по именам и по кодам (не нежелательно - в редких случаях возможны неоднозначности в случае равноценных совпадений)\",\"nullable\":true},\"allergy\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Аллергия\",\"nullable\":true},\"pregnancy\":{\"type\":\"boolean\",\"description\":\"Флаг беременности\"},\"trimester\":{\"type\":\"integer\",\"description\":\"Триместер беременности\",\"format\":\"int32\",\"nullable\":true},\"gestation\":{\"type\":\"integer\",\"description\":\"Неделя беременности\",\"format\":\"int32\",\"nullable\":true},\"lactation\":{\"type\":\"boolean\",\"description\":\"Флаг кормления грудью\"},\"alcohol\":{\"type\":\"boolean\",\"description\":\"Флаг употребления алкоголя (включение проверки на алкоголь)\"},\"driving\":{\"type\":\"boolean\",\"description\":\"Флаг вождения\"},\"name\":{\"type\":\"string\",\"description\":\"ФИО пациента (не рекомендуется к использованию т.к. устаревшее, при заполнении firstname, lastname и patronymic (необязательно) будет заменяться их содержимым)\",\"nullable\":true,\"deprecated\":true}},\"additionalProperties\":false,\"description\":\"Данные пациента\"},\"MisPatientCodeRequest\":{\"type\":\"object\",\"required\":[\"key\",\"clinical_case\",\"clinic_code\",\"doctor_code\",\"patient_code\"],\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"Постоянный ключ авторизации\",\"nullable\":true},\"clinic_code\":{\"type\":\"string\",\"description\":\"Код клиники. Обязательное поле\",\"nullable\":true},\"doctor_code\":{\"type\":\"string\",\"description\":\"Код врача. Обязательное поле\",\"nullable\":true},\"patient_code\":{\"type\":\"string\",\"description\":\"Код пациента. Обязательное поле\",\"nullable\":true},\"clinical_case\":{\"type\":\"string\",\"description\":\"№ истории болезни/эпизода. Обязательное поле\",\"nullable\":true},\"active_language\":{\"type\":\"string\",\"description\":\"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"nullable\":true,\"default\":\"ru\"}},\"additionalProperties\":false},\"MisPatientCodeResponse\":{\"type\":\"object\",\"properties\":{\"alert\":{\"$ref\":\"#/components/schemas/Alert\"},\"patient\":{\"$ref\":\"#/components/schemas/MisPatient\"},\"drugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/MisDrugResponse\"},\"description\":\"Список ЛС\",\"nullable\":true},\"url\":{\"type\":\"string\",\"description\":\"Ссылка на ЭКФ для получения и проверки всей актуальной фармакотерапии пациента\",\"nullable\":true}},\"additionalProperties\":false,\"description\":\"Формат передачи данных при работе с МИС-ами\"},\"MisTherapyRequest\":{\"type\":\"object\",\"required\":[\"key\",\"clinic\",\"doctor\",\"patient\"],\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"Лицензионный ключ\",\"nullable\":true},\"clinic\":{\"type\":\"string\",\"description\":\"Индентификатор(код) клиники. Обязательное поле\",\"nullable\":true},\"clinic_name\":{\"type\":\"string\",\"description\":\"Наименование клиники\",\"nullable\":true},\"department\":{\"type\":\"string\",\"description\":\"Индентификатор(код) отделения\",\"nullable\":true},\"department_name\":{\"type\":\"string\",\"description\":\"Наименование отделения\",\"nullable\":true},\"doctor\":{\"type\":\"string\",\"description\":\"Индентификатор(код) врача. Обязательное поле\",\"nullable\":true},\"doctor_name\":{\"type\":\"string\",\"description\":\"Имя врача\",\"nullable\":true},\"patient\":{\"$ref\":\"#/components/schemas/MisPatient\"},\"drugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/MisDrug\"},\"description\":\"Список формализованных ЛС. Более предпочтительное поле при обмене информацией. Если одно ЛС будет указано здесь и в parsedrugs, то в назначении будут оба\",\"nullable\":true},\"parsedrugs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Список ЛС свободным текстом, используется только в случае, если нет возможности передать ЛС в формализованном виде. Если одно ЛС будет указано здесь и в drugs, то в назначении будут оба\",\"nullable\":true},\"duplicate_drugs_allow\":{\"type\":\"boolean\",\"description\":\"Разрешить добавление дубликатов ЛС. По умолчанию false.\r\nИспользуется при учёте предыдущей фармакотерапии.\r\nМеханизм: если добавляется копия уже назначенного ЛС (с такой же лекарственной формой и способом применения), то ЛС предыдущего назначения отменяется.\r\nНе касается самодельных растворов.\r\n\r\nЭто булевой параметр, который включает и отключает возможность дублирования назначения препаратов. \r\nНапример, если ранее пациенту был назначен Ибупрофен с дозировкой 200мг, то при отправке повторного запроса, \r\nсодержащего Ибупрофен с дозировкой 200мг, система будет считать, что это - дублирующее назначение и, при условии, что параметр \r\nduplicate_drugs_allow передан как false, не будет добавлять ещё один Ибупрофен с дозировкой 200мг. В случае же, если параметр передан как true, \r\nпроверка на дубли не производится и в итоговой фармакотерапии будет два препарата Ибупрофен с дозировкой 200мг.\r\nНеобходимо учитывать, что, исходя из логики работы этого параметра, он актуален только для изменения уже существующей фармакотерапии\"},\"return_subjects\":{\"type\":\"boolean\",\"description\":\"Флаг того, что необходимо вернуть всю актуальную фармакотерапию, true - для тестирования и отладки, false - для штатной работы\"},\"lang\":{\"type\":\"string\",\"description\":\"Язык, на котором будет восприниматься запрос и формироваться ответ (по умолчанию \"ru\")\",\"nullable\":true,\"default\":\"ru\"}},\"description\":\"Формат приема данных от МИС\"},\"MisTherapyResponse\":{\"type\":\"object\",\"properties\":{\"alert\":{\"$ref\":\"#/components/schemas/Alert\"},\"key\":{\"type\":\"string\",\"description\":\"Лицензионный ключ\",\"nullable\":true},\"clinic\":{\"type\":\"string\",\"description\":\"Индентификатор(код) клиники. Обязательное поле\",\"nullable\":true},\"clinic_name\":{\"type\":\"string\",\"description\":\"Наименование клиники\",\"nullable\":true},\"department\":{\"type\":\"string\",\"description\":\"Индентификатор(код) отделения\",\"nullable\":true},\"department_name\":{\"type\":\"string\",\"description\":\"Наименование отделения\",\"nullable\":true},\"doctor\":{\"type\":\"string\",\"description\":\"Индентификатор(код) врача. Обязательное поле\",\"nullable\":true},\"doctor_name\":{\"type\":\"string\",\"description\":\"Имя врача\",\"nullable\":true},\"patient\":{\"$ref\":\"#/components/schemas/MisPatient\"},\"drugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/MisDrugResponse\"},\"description\":\"Список формализованных ЛС. Более предпочтительное поле при обмене информацией. Если одно ЛС будет указано здесь и в parsedrugs, то в назначении будут оба\",\"nullable\":true},\"parsedrugs\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Список ЛС свободным текстом, используется только в случае, если нет возможности передать ЛС в формализованном виде. Если одно ЛС будет указано здесь и в drugs, то в назначении будут оба\",\"nullable\":true},\"url\":{\"type\":\"string\",\"description\":\"Ссылка на ЭКФ для получения и проверки всей актуальной фармакотерапии пациента, а не на результаты проверки результаты проверки\",\"nullable\":true},\"danger\":{\"type\":\"number\",\"description\":\"Степень максимальной опасности лекарственного назначения, диапазон 0.0-1.0 показывает опасность назначения, если значение меньше 0, то это рациональное сочетание\",\"format\":\"double\",\"nullable\":true},\"caution\":{\"$ref\":\"#/components/schemas/MisCaution\"},\"duplicate_drugs_allow\":{\"type\":\"boolean\",\"description\":\"Разрешить добавление дубликатов ЛС. По умолчанию false.\r\nИспользуется при учёте предыдущей фармакотерапии.\r\nМеханизм: если добавляется копия уже назначенного ЛС (с такой же лекарственной формой и способом применения), то ЛС предыдущего назначения отменяется.\r\nНе касается самодельных растворов.\r\n\r\nЭто булевой параметр, который включает и отключает возможность дублирования назначения препаратов. \r\nНапример, если ранее пациенту был назначен Ибупрофен с дозировкой 200мг, то при отправке повторного запроса, \r\nсодержащего Ибупрофен с дозировкой 200мг, система будет считать, что это - дублирующее назначение и, при условии, что параметр \r\nduplicate_drugs_allow передан как false, не будет добавлять ещё один Ибупрофен с дозировкой 200мг. В случае же, если параметр передан как true, \r\nпроверка на дубли не производится и в итоговой фармакотерапии будет два препарата Ибупрофен с дозировкой 200мг.\r\nНеобходимо учитывать, что, исходя из логики работы этого параметра, он актуален только для изменения уже существующей фармакотерапии\"},\"return_subjects\":{\"type\":\"boolean\",\"description\":\"Флаг того, что необходимо вернуть всю актуальную фармакотерапию, true - для тестирования и отладки, false - для штатной работы\"},\"lang\":{\"type\":\"string\",\"description\":\"Язык, на котором будет восприниматься запрос и формироваться ответ (по умолчанию \"ru\")\",\"nullable\":true,\"default\":\"ru\"}},\"additionalProperties\":false,\"description\":\"Формат ответа на запрос МИС\"},\"MisSchedule\":{\"type\":\"object\",\"properties\":{\"appointmentСalendar\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/MisAppointmentCalendar\"},\"description\":\"Расписание приёма ЛС\",\"nullable\":true},\"duration\":{\"type\":\"string\",\"description\":\"Продолжительность приёма, если заполнено dateFinish будет пересчитано для соответствия например: \"5 дней\"\",\"nullable\":true},\"sequence\":{\"type\":\"string\",\"description\":\"Кратность приёма ЛС, например: \r\n\"1 раз в день\", \"2 раза в день\", \"2 р\\д\", \"3 раза в день\", \"4 раза в день\", \"5 раз в день\", \r\n\"каждые 30 мин\", \"каждый час\", \"каждые 2 часа\", \"каждые 3 часа\", \"каждые 4 часа\", \r\n\"1 раз в 2 дня\", \"1 раз в 3 дня\", \"1 раз в 4 дня\", \"1 раз в 5 дней\", \"1 раз в 10 дней\", \r\n\"1 раз в неделю\", \"1 раз в 2 недели\", \"1 раз в 3 недели\", \r\n\"1 раз в месяц\", \"1 раз в 2 месяца\", \"1 раз в 3 месяца\", \"1 раз в полгода\", \"1 раз в год\"\",\"nullable\":true},\"dateStart\":{\"type\":\"integer\",\"description\":\"Дата начала приёма ЛС (unixtime в мс)\",\"format\":\"int64\",\"nullable\":true},\"dateFinish\":{\"type\":\"integer\",\"description\":\"Дата окончания приёма (unixtime в мс)\",\"format\":\"int64\",\"nullable\":true},\"finishAlternate\":{\"type\":\"string\",\"description\":\"Условия окончания приёма (не дата), например: \"до отмены\"\",\"nullable\":true}},\"additionalProperties\":false,\"description\":\"Расписание приёма\"},\"MisAppointmentCalendar\":{\"type\":\"object\",\"properties\":{\"date\":{\"type\":\"integer\",\"description\":\"Дата приёма (unixtime в мс)\",\"format\":\"int64\",\"nullable\":true},\"timeReceipt\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/MisAppointmentCalendarItem\"},\"description\":\"Время приема и дозировка\",\"nullable\":true}},\"additionalProperties\":false,\"description\":\"Календарь приема ЛС\"},\"MisAppointmentCalendarItem\":{\"type\":\"object\",\"properties\":{\"hours\":{\"type\":\"integer\",\"description\":\"Часы\",\"format\":\"int32\"},\"minutes\":{\"type\":\"integer\",\"description\":\"Минуты\",\"format\":\"int32\"},\"count\":{\"type\":\"number\",\"description\":\"Дозировка, указывается в ЕИ use_calc_unit\",\"format\":\"double\",\"nullable\":true}},\"additionalProperties\":false,\"description\":\"Время приема и дозировка\"},\"MisNewTherapyReponseQMS\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"Лицензионный ключ\",\"nullable\":true},\"authkey\":{\"type\":\"string\",\"description\":\"Сгенерированный биллингом токен\",\"nullable\":true},\"clinic\":{\"type\":\"string\",\"description\":\"Индентификатор(код) клиники. Обязательное поле\",\"nullable\":true},\"clinic_name\":{\"type\":\"string\",\"description\":\"Наименование клиники\",\"nullable\":true},\"department\":{\"type\":\"string\",\"description\":\"Индентификатор(код) отделения\",\"nullable\":true},\"department_name\":{\"type\":\"string\",\"description\":\"Наименование отделения\",\"nullable\":true},\"doctor\":{\"type\":\"string\",\"description\":\"Индентификатор(код) врача. Обязательное поле\",\"nullable\":true},\"doctor_name\":{\"type\":\"string\",\"description\":\"Имя врача\",\"nullable\":true},\"url\":{\"type\":\"string\",\"description\":\"Ссылка на фронт ЭКФ на результаты назначения конкретной фармакотерапии, только если указан код клиники, доктора, пациента\",\"nullable\":true},\"danger\":{\"type\":\"number\",\"description\":\"Степень максимальной опасности лекарственного назначения\",\"format\":\"double\",\"nullable\":true},\"caution\":{\"$ref\":\"#/components/schemas/MisCaution\"},\"lang\":{\"type\":\"string\",\"description\":\"Язык, на котором будет восприниматься запрос и формироваться ответ\",\"default\":\"ru\",\"nullable\":true},\"alert\":{\"$ref\":\"#/components/schemas/Alert\"}},\"additionalProperties\":false,\"description\":\"Формат передачи данных при работе с МИС-ами\"}}}}";
        static string ftJson = "{\"openapi\":\"3.0.1\",\"info\":{\"title\":\"PharmTaxiAPI\",\"version\":\"1.0\"},\"paths\":{\"/CreateDrugNet\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер для создания сети аптек\",\"description\":\"Пример запроса:\r\n\t\r\n\tPOST /RegisterWNet\r\n\t{\r\n\t\t\t\"authkey\":\"НАДО ПОЛУЧИТЬ ВАЛИДНЫЙ АУТКЕЙ\",\r\n\t\t\t\"parentId\": \"ID Родителя\",\r\n\t\t\t\"typeText\": \"Сеть Аптек Test\",\r\n\t\t\t\"address\": \"Москва, ул. Кикабидзе, 55\",\r\n\t\t\t\"license\": \"2xxx3231\",\r\n\t\t\t\"phone\": \"555-55-55\",\r\n\t\t\t\"title\": \"Сеть аптек Test\"\r\n\t\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugNetModel\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugNetModel\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugNetModel\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/CreateDrugstore\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Создание аптеки\",\"description\":\"Пример запроса для создания аптеки:\r\n\r\n\tPOST /CreateDrugstore\r\n\t{\r\n\t\t\"authkey\": \"АУТКЕЙ НЕОБХОДИМО ПОЛУЧИТЬ ПРИ ПОМОЩИ КОНТРОЛЛЕРА Authorize\",\r\n\t\t\"ParentId\": 343348,\r\n\t\t\"TypeText\": \"Аптека\",\r\n\t\t\"Address\": \"Москва, ул. Нобеля 1\",\r\n\t\t\"License\": \"1111111йв\",\r\n\t\t\"Phone\": \"+7 926 000 00 11\",\r\n\t\t\"Title\": \"TEST\",\r\n\t\t\"latitude\": 75.14,\r\n\t\t\"longitude\": 55.14,\r\n\t\t\"mon\" : {\r\n\t\t\t\"StartTime\": 800,\r\n\t\t\t\"EndTime\": 2100,\r\n\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\"BreakEnd\": 1300\r\n\t\t},\r\n\t\t\"tue\" : {\r\n\t\t\t\"StartTime\": 800,\r\n\t\t\t\"EndTime\": 2100,\r\n\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\"BreakEnd\": 1300\r\n\t\t},\r\n\t\t\"wed\" : {\r\n\t\t\t\"StartTime\": 800,\r\n\t\t\t\"EndTime\": 2100,\r\n\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\"BreakEnd\": 1300\r\n\t\t},\r\n\t\t\"thu\" : {\r\n\t\t\t\"StartTime\": 800,\r\n\t\t\t\"EndTime\": 2100,\r\n\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\"BreakEnd\": 1300\r\n\t\t},\r\n\t\t\"fri\" : {\r\n\t\t\t\"StartTime\": 800,\r\n\t\t\t\"EndTime\": 2100,\r\n\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\"BreakEnd\": 1300\r\n\t\t},\r\n\t\t\"sat\" : {\r\n\t\t\t\"StartTime\": 800,\r\n\t\t\t\"EndTime\": 2100,\r\n\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\"BreakEnd\": 1300\r\n\t\t},\r\n\t\t\"sun\" : {\r\n\t\t\t\"StartTime\": 800,\r\n\t\t\t\"EndTime\": 2100,\r\n\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\"BreakEnd\": 1300\r\n\t\t}\r\n\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModel\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModel\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModel\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/MassiveCreateDrugstore\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Создать список аптеку и вернуть заготовок лицензионного ключа для них\",\"description\":\"Пример запроса для множественного создания аптек:\r\n\r\n\tPOST /MassiveCreateDrugstore\r\n\t{\r\n\t\t\"pharms\":[\r\n\t\t\t{\r\n\t\t\t\t\"authkey\": \"АУТКЕЙ НЕОБХОДИМО ПОЛУЧИТЬ ПРИ ПОМОЩИ КОНТРОЛЛЕРА Authorize\",\r\n\t\t\t\t\"ParentId\": 343348,\r\n\t\t\t\t\"TypeText\": \"Аптека\",\r\n\t\t\t\t\"Address\": \"Москва, ул. Нобеля 1\",\r\n\t\t\t\t\"License\": \"1111111йв\",\r\n\t\t\t\t\"Phone\": \"+7 926 000 00 11\",\r\n\t\t\t\t\"Title\": \"TEST\",\r\n\t\t\t\t\"latitude\": 75.14,\r\n\t\t\t\t\"longitude\": 55.14,\r\n\t\t\t\t\"mon\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"tue\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"wed\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"thu\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"fri\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"sat\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"sun\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\"authkey\": \"АУТКЕЙ, ранее полученный (от Authorize)\",\r\n\t\t\t\t\"ParentId\": 343348,\r\n\t\t\t\t\"TypeText\": \"Аптека\",\r\n\t\t\t\t\"Address\": \"Москва, ул. Нобеля 3\",\r\n\t\t\t\t\"License\": \"11542361йв\",\r\n\t\t\t\t\"Phone\": \"+7 926 000 20 11\",\r\n\t\t\t\t\"Title\": \"Нобель\",\r\n\t\t\t\t\"latitude\": 75.14,\r\n\t\t\t\t\"longitude\": 55.14,\r\n\t\t\t\t\"mon\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"tue\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"wed\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"thu\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"fri\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"sat\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t},\r\n\t\t\t\t\"sun\" : {\r\n\t\t\t\t\t\"StartTime\": 800,\r\n\t\t\t\t\t\"EndTime\": 2100,\r\n\t\t\t\t\t\"BreakStart\": 1200,\r\n\t\t\t\t\t\"BreakEnd\": 1300\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t]\r\n\t\t\r\n\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModelList\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModelList\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModelList\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/UpdateDrugstore\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Обновить информацию аптеки\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModel\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModel\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModel\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/GetPharmOrders\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Получение всех актвных заказов для аптеки\",\"description\":\"Пример запроса:\r\n\r\n\tPOST /GetPharmOrders\r\n\t{\r\n\t\t\"authkey\": \"АУТКЕЙ НЕОБХОДИМО ПОЛУЧИТЬ ПРИ ПОМОЩИ КОНТРОЛЛЕРА Authorize\"\r\n\t}\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.User.AuthKeyByLicKey\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.User.AuthKeyByLicKey\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.User.AuthKeyByLicKey\"}}}},\"responses\":{\"200\":{\"description\":\"\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.SaveOrder\"}},\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.SaveOrder\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.SaveOrder\"}}}}}}},\"/ChangeAssortiment\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер для изменения ассортимента\",\"description\":\"Пример запроса:\r\n\r\n\tPOST /ChangeAssortiment\r\n\t{\r\n\t\t\"authkey\": \"АУТКЕЙ НЕОБХОДИМО ПОЛУЧИТЬ ПРИ ПОМОЩИ КОНТРОЛЛЕРА Authorize\",\r\n\t\t\"lass\":[\r\n\t\t\t{\r\n\t\t\t\t\"pharmId\": 392215,\r\n\t\t\t\t\"pharm_pack_id\": \"55326\",\r\n\t\t\t\t\"fp_id\": \"i3lKz4MbKnAeXRA24YqEng==\",\r\n\t\t\t\t\"qty\": 10,\r\n\t\t\t\t\"qty_free\": 2,\r\n\t\t\t\t\"price\": 1001.5\r\n\t\t\t}\r\n\t\t]\r\n\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIChangeAss\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIChangeAss\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIChangeAss\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/GetAssortiment\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер для получения ассортимента.\",\"description\":\"Пример запроса:\r\n\r\n\tPOST /GetAssortiment\r\n\t\r\n\t{\r\n\t\t\"authkey\": \"АУТКЕЙ НЕОБХОДИМО ПОЛУЧИТЬ ПРИ ПОМОЩИ КОНТРОЛЛЕРА Authorize\"\r\n\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestAss\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestAss\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestAss\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/LoadAssortiment\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер для загрузки ассортимента. Первоначально создавался для интеграции вместо WCF\",\"description\":\"Пример запроса:\r\n\r\n\tPOST /LoadAssortiment\r\n\t{\r\n\t\t\"authkey\": \"АУТКЕЙ НЕОБХОДИМО ПОЛУЧИТЬ ПРИ ПОМОЩИ КОНТРОЛЛЕРА Authorize\",\r\n\t\t\"Lass\":[\r\n\t\t\t{\r\n\t\t\t\t\"PharmId\": 392215,\r\n\t\t\t\t\"PharmLogin\": \"392215\",\r\n\t\t\t\t\"PharmPackId\": \"5004951\",\r\n\t\t\t\t\"Barcode\": \"4030685259512\",\r\n\t\t\t\t\"Name\": \"Амарил, тбл 4мг №30\",\r\n\t\t\t\t\"TradeName\": \"Амарил, тбл 4мг №30\",\r\n\t\t\t\t\"Dosage\": \"4мг\",\r\n\t\t\t\t\"form\": \"таблетки\",\r\n\t\t\t\t\"RegistrationCertificate\": \"УП/321023\",\r\n\t\t\t\t\"Type\": \"внутрь\",\r\n\t\t\t\t\"Pack\": \"12\",\r\n\t\t\t\t\"Manufacturer\": \"Aventis Pharma Deutschland GmbH\",\r\n\t\t\t\t\"Country\": \"Германия\",\r\n\t\t\t\t\"PharmacoTherapeuticGroup\": \"Лекарственные средства\",\r\n\t\t\t\t\"Quantity\": 15,\r\n\t\t\t\t\"QuantityFree\": 8,\r\n\t\t\t\t\"SellingPrice\": 1300.5,\r\n\t\t\t\t\"SellingPriceType\": \"1\"\r\n\t\t\t}\r\n\t\t]\r\n\t}\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestAss\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestAss\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestAss\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/RemoveAssortiment\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер для удаления ассортимента.\",\"description\":\"Пример запроса:\r\n\r\n\tPOST /RemoveAssortiment\r\n\t{\r\n\t\t\"authkey\": \"АУТКЕЙ НЕОБХОДИМО ПОЛУЧИТЬ ПРИ ПОМОЩИ КОНТРОЛЛЕРА Authorize\",\r\n\t\t\"Lass\":[\r\n\t\t\t{\r\n\t\t\t\t\"PharmId\": 392215,\r\n\t\t\t\t\"PharmLogin\": \"392215\",\r\n\t\t\t\t\"PharmPackId\": \"5004951\",\r\n\t\t\t\t\"Barcode\": \"4030685259512\",\r\n\t\t\t\t\"Name\": \"Амарил, тбл 4мг №30\",\r\n\t\t\t\t\"TradeName\": \"Амарил, тбл 4мг №30\",\r\n\t\t\t\t\"Dosage\": \"4мг\",\r\n\t\t\t\t\"form\": \"таблетки\",\r\n\t\t\t\t\"RegistrationCertificate\": \"УП/321023\",\r\n\t\t\t\t\"Type\": \"внутрь\",\r\n\t\t\t\t\"Pack\": \"12\",\r\n\t\t\t\t\"Manufacturer\": \"Aventis Pharma Deutschland GmbH\",\r\n\t\t\t\t\"Country\": \"Германия\",\r\n\t\t\t\t\"PharmacoTherapeuticGroup\": \"Лекарственные средства\",\r\n\t\t\t\t\"Quantity\": 15,\r\n\t\t\t\t\"QuantityFree\": 8,\r\n\t\t\t\t\"SellingPrice\": 1300.5,\r\n\t\t\t\t\"SellingPriceType\": \"1\"\r\n\t\t\t}\r\n\t\t]\r\n\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestAss\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestAss\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestAss\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/Sync\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер для синхронизации (С ЗАТИРАНИЕМ АССОРТИМЕНТА АПТЕКИ) файлом\",\"description\":\"bool ForceLoad = false; string key = \"AUTHKEY\";\t\tfile = \"\";\tfiles=\"\";\tstring mode = \"WORK\";\t\tstring operation = null;\t\tstring key = null;\t\tstring lang = \"ru\";\",\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/AUpload.Global.Models.Response\"}},\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/AUpload.Global.Models.Response\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/AUpload.Global.Models.Response\"}}}}}}},\"/integration/assync\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер для синхронизации в рамках интеграции\r\nСлать то же, что и на контроллер загрузки ассортимента, различие только в одном bool - ForceLoad\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.ForceLoadAPIRequestAss\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.ForceLoadAPIRequestAss\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.ForceLoadAPIRequestAss\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/Recognize\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер для распознавания\r\nПринимает запрос в формате multipart-form/data\",\"description\":\"Пример запроса:\t\r\n\t\r\n\tPOST /Recognize\r\n\t{\r\n\t\tfile: (binary)\t\r\n\t\tfiles: (binary)\t\r\n\t\tauthkey: \"АУТКЕЙ НЕОБХОДИМО ПОЛУЧИТЬ ПРИ ПОМОЩИ КОНТРОЛЛЕРА Authorize\"\t\r\n\t\tkey: \"Лицензионный ключ\"\r\n\t\tlang: ru\r\n\t}\",\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.RecognizeResp\"}},\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.RecognizeResp\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.RecognizeResp\"}}}}}}},\"/LoadPrice\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер для загрузки цен.Первоначально создавался для интеграции вместо WCF\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestPrice\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestPrice\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.APIRequestPrice\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/GetDrugstoresByUserId\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Получить аптеки пользователя\r\nrole либо Admin, либо Provisor, либо Patient\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetBy\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetBy\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetBy\"}}}},\"responses\":{\"200\":{\"description\":\"123\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetDrugstoresResp\"}},\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetDrugstoresResp\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetDrugstoresResp\"}}}}}}},\"/GetDrugstoresByPharmId\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Получить все связанные аптеки. Передать authkey и id аптеки\r\nВ ответе role либо Admin, либо Provisor, либо Patient\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetByPharmId\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetByPharmId\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetByPharmId\"}}}},\"responses\":{\"200\":{\"description\":\"123\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetDrugstoresResp\"}},\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetDrugstoresResp\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetDrugstoresResp\"}}}}}}},\"/AttachDrugstoreToUser\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер для добавления аптеки пользователю ФармТакси для аптек\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.AttacheDrugstore\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.AttacheDrugstore\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.AttacheDrugstore\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/CreateDrugstoreWithLicKey\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Создать аптеку и вернуть заготовок лицензионного ключа для неё (для внутреннего использования)\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{}},\"text/json\":{\"schema\":{}},\"application/*+json\":{\"schema\":{}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/CreateDrugstoreWLKList\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Создать список аптек и вернуть заготовок лицензионного ключа для них (для внутреннего использования)\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModelList\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModelList\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModelList\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/CreateDrugstoreWLKList_Test\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Создать список аптек и вернуть заготовок лицензионного ключа для них (для внутреннего использования)\",\"description\":\"{ \"authkey\": \"9FDbb8BQ3q8mxYcHlYCQDoXl\", \"parent_id\": 394737, \"userId\": \"10267\", \"data\":[ { \"parent_id\": 394737, \"userId\": \"10267\", \"license\": \"ЛО-77-02-011246\", \"name\": \"сетевая 2\", \"issuing\": \"string\", \"address\": \"string\", \"dateStart\": \"string\", \"dateEnd\": \"string\", \"ogrn\": \"string\", \"inn\": \"string\", \"order\": \"string\", \"orderFresh\": \"string\", \"pharms\":[ { \"name\": \"аптека первая\", \"activity\": \"string\", \"address_fact\": \"улица Чистяковой, 12\", \"address_fact_street\": \"улица Чистяковой, 12\", \"address_fact_zip\": \"143005\", \"appartment_num\": \"12\", \"building_num\": \"string\", \"city\": \"Москва\", \"code_fias\": \"string\", \"district_label\": \"string\", \"dt_created\": \"17.11.2020\", \"dt_edited\": \"string\", \"ext_city_id\": \"string\", \"ext_db\": \"string\", \"ext_id\": \"string\", \"ext_org\": \"string\", \"ext_region_id\": \"string\", \"ext_type_id\": \"string\", \"fake\": \"string\", \"from_b2b\": \"string\", \"house_num\": \"string\", \"id\": \"string\", \"id_create_user\": \"string\", \"id_department\": \"string\", \"id_licenses_apps_object\": \"string\", \"id_organization\": \"string\", \"id_revision\": \"string\", \"id_type_org\": \"string\", \"id_user_edited\": \"string\", \"id_voc_city\": \"string\", \"id_voc_district\": \"string\", \"id_voc_licenser\": \"string\", \"id_voc_producer\": \"string\", \"id_voc_region\": \"string\", \"id_voc_revision_activity_items\": \"string\", \"id_voc_revision_object_type\": \"string\", \"id_voc_settlements\": \"string\", \"ids_voc_revision_activities\": \"string\", \"is_active_b2b\": \"string\", \"is_actual\": \"string\", \"is_foreign\": \"string\", \"is_med_business_check\": \"string\", \"is_not_code_fias\": \"string\", \"is_save_region\": \"string\", \"kladr\": \"string\", \"label\": \"string\", \"label_firm\": \"string\", \"label_short\": \"string\", \"okato\": \"string\", \"oktmo\": \"string\", \"region\": \"string\", \"street\": \"string\", \"address\": \"string\", \"addressVCId\": 0, \"isActive\": true, \"license\": \"string\", \"licenseVCId\": 0, \"longId\": 0, \"nameLongId\": 0, \"parentId\": 0, \"pharmId\": 0, \"phone\": \"string\", \"phoneVCId\": 0, \"title\": \"string\", \"typeText\": \"string\", \"userId\": \"string\", \"users\":[ { \"longId\": 0 } ], \"latitude\": 0, \"longitude\": 0, \"mon\":{ \"startTime\": 100, \"endTime\": 2100, \"breakStart\": 0, \"breakEnd\": 0 }, \"tue\":{ \"startTime\": 100, \"endTime\": 2100, \"breakStart\": 0, \"breakEnd\": 0 }, \"wed\":{ \"startTime\": 100, \"endTime\": 2100, \"breakStart\": 0, \"breakEnd\": 0 }, \"thu\":{ \"startTime\": 100, \"endTime\": 2100, \"breakStart\": 0, \"breakEnd\": 0 }, \"fri\":{ \"startTime\": 100, \"endTime\": 2100, \"breakStart\": 0, \"breakEnd\": 0 }, \"sat\":{ \"startTime\": 100, \"endTime\": 2100, \"breakStart\": 0, \"breakEnd\": 0 }, \"sun\":{ \"startTime\": 100, \"endTime\": 2100, \"breakStart\": 0, \"breakEnd\": 0 }, \"isHidden\": true } ] } ] }\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.CreateDrugstoreWLicReq\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.CreateDrugstoreWLicReq\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.CreateDrugstoreWLicReq\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/WriteOff\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Контроллер списания\",\"description\":\" POST \r\n\t\t/WriteOff\r\n\t\t{\r\n\t\t\t\"pharmId\": \"395661\",\r\n\t\t\t\"authkey\": \"АУТКЕЙ ПОЛУЧИТЬ ЧЕРЕЗ АВТОРИЗАЦИЮ\",\r\n\t\t\t\"medicaments\":[\r\n\t\t\t\t{\r\n\t\t\t\t\t\"id\": \"OX/R1LlhUWCmIAAhggmSGg==\",\r\n\t\t\t\t\t\"packs\": 1,\r\n\t\t\t\t\t\"price\": 93\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"recipe\": \"_U6K\",\r\n\t\t\t\"status\": \"2\"/// status заказа: -1 - отменён; 0 - в обработке; 1 - готов к выдаче; 2 - выдан\r\n\t\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.WriteOffRequest\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.WriteOffRequest\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.WriteOffRequest\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/getDrugstoreOrders\":{\"post\":{\"tags\":[\"Pharm\"],\"summary\":\"Получение всех актвных заказов для аптеки\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.User.AuthKeyByLicKey\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/Actual\":{\"post\":{\"tags\":[\"Processes\"],\"summary\":\"Получение актуальной фармакотерапии\",\"description\":\" Пример запроса:\r\n\r\n\t\tPOST /Actual\r\n\t\t{\r\n\t\t\t\"authkey\": \"fs43ASFDAfsdas34i\",\r\n\t\t\t\"email\": \"1st_man@mail.ru\"\r\n\t\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.GP2\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.GP2\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.GP2\"}}}},\"responses\":{\"200\":{\"description\":\"\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.MongoConnect.ECP.Models.GetInfoPreparations\"}},\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.MongoConnect.ECP.Models.GetInfoPreparations\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.MongoConnect.ECP.Models.GetInfoPreparations\"}}}}}}},\"/CheckMustHave\":{\"post\":{\"tags\":[\"Processes\"],\"summary\":\"Проверка препарата по списку ЖНВЛП\",\"description\":\"Пример запроса 1:\r\n\tPOST /CheckMustHave\r\n\t{\r\n\t\t\"fp_id\": \"\",\r\n\t\t\"tn_id\": \"\",\r\n\t\t\"dv_id\": \"pDKBBXF0ryDeaL3sGeYxBQ==\"\r\n\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.RequestMustHave\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.RequestMustHave\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.RequestMustHave\"}}}},\"responses\":{\"200\":{\"description\":\"\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.ResponseMustHave\"}},\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.ResponseMustHave\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.ResponseMustHave\"}}}}}}},\"/GetRecipeJson\":{\"post\":{\"tags\":[\"Recipes\"],\"summary\":\"Получение JSONа рецепта\",\"description\":\"Пример запроса:\r\n\r\n\tPOST /GetRecipeJson\r\n\t{\r\n\t\t\"receiptsCodes\":[\r\n\t\t\t\"6UQ\"\r\n\t\t],\r\n\t\t\"receiptCode\": \"6UQ\"\r\n\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetRecipeJSON\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetRecipeJSON\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.GetRecipeJSON\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/RecipeRelease_old\":{\"post\":{\"tags\":[\"Recipes\"],\"summary\":\"Контроллер для отпуска рецептов (интеграция)\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.RecipReleaseReq\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.RecipReleaseReq\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.RecipReleaseReq\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/GetReceiptURL\":{\"post\":{\"tags\":[\"Recipes\"],\"summary\":\"Получить URL рецепта, по которому располагается бланк рецепта\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.SearchReceipt\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.SearchReceipt\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.SearchReceipt\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/Recipes/GetErpPrescrShort\":{\"post\":{\"tags\":[\"Recipes\"],\"summary\":\"Получение короткого рецепта из eRp\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.PrescrList\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.PrescrList\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.PrescrList\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/Recipes/GetErpPrescrFull\":{\"post\":{\"tags\":[\"Recipes\"],\"summary\":\"получение полного рецепта из eRp\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.PrescrList\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.PrescrList\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.PrescrList\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/Recipes/ErpRelease\":{\"post\":{\"tags\":[\"Recipes\"],\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.ReleasePrescr\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.ReleasePrescr\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.ReleasePrescr\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/SavePrescript\":{\"post\":{\"tags\":[\"Recipes\"],\"summary\":\"Сохранение ЛН (аптечки)\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{}},\"text/json\":{\"schema\":{}},\"application/*+json\":{\"schema\":{}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/SaveOrder\":{\"post\":{\"tags\":[\"Recipes\"],\"summary\":\"Сохранение Заказов\",\"description\":\"Пример запроса:\r\n\r\nPOST /SaveOrder\r\n{\r\n\t\"authkey\": \"HLtvDMmz3qZLlT4HboIPYx0S\",\r\n\t\"order\":{\r\n\t\t\"pharm_id\": 395661,\r\n\t\t\"user_id\": \"9464\",\r\n\t\t\"drugs\": \r\n\t\t\t[\r\n\t\t\t\t{ \r\n\t\t\t\t\t\"id\": \"NKTWBFHcxsRO3SG0Xww7EA==\", \r\n\t\t\t\t\t\"packs\": 1, \r\n\t\t\t\t\t\"price\": 75\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\"isActive\": true,\r\n\t\t\"status\": 0,\r\n\t\t\"delivery\": false\r\n\t}\r\n}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.SaveOrderD\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.SaveOrderD\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.SaveOrderD\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/SaveForeignOrder\":{\"post\":{\"tags\":[\"Recipes\"],\"summary\":\"Сохранение Заказов Аптекой\",\"description\":\"Пример запроса:\r\n\r\nPOST /SaveForeignOrder\r\n{\r\n\t\"authkey\": \"HLtvDMmz3qZLlT4HboIPYx0S\",\r\n\t\"order\":{\r\n\t\t\"pharm_id\": 395661, \r\n\t\t\"drugs\": \r\n\t\t\t[\r\n\t\t\t\t{ \r\n\t\t\t\t\t\"id\": \"NKTWBFHcxsRO3SG0Xww7EA==\", \r\n\t\t\t\t\t\"packs\": 1, \r\n\t\t\t\t\t\"price\": 75\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\"isActive\": true,\r\n\t\t\"status\": 0,\r\n\t\t\"delivery\": false\r\n\t}\r\n}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.SaveOrderD\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.SaveOrderD\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.SaveOrderD\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/SaveFakeOrder\":{\"post\":{\"tags\":[\"Recipes\"],\"summary\":\"Сохранение Заказов ЖНВЛП\",\"description\":\"Пример запроса:\r\n\r\n\tPOST /SaveFakeOrder\r\n\t{\r\n\t\t\"authkey\": \"1h8Bvn87h3a8G26sGASe\",\r\n\t\t\"fakeOrders\":[\r\n\t\t\t{\r\n\t\t\t\t\"pharm_id\": 1031,\r\n\t\t\t\t\"user_id\": \"1488\",\r\n\t\t\t\t\"CreationDate\": 1622637785,\r\n\t\t\t\t\"IssueDate\": 1622637785,\r\n\t\t\t\t\"DeliveryAddress\": \"Москва\",\r\n\t\t\t\t\"Delivery\": false,\r\n\t\t\t\t\"drugs\":[\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t] \r\n\t\t\t}\r\n\t\t]\r\n\t}\",\"requestBody\":{\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.FakeOrder\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.FakeOrder\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.FakeOrder\"}}}},\"responses\":{\"200\":{\"description\":\"Success\"}}}},\"/Recipes\":{\"post\":{\"tags\":[\"Recipes\"],\"summary\":\"Получение рецептов пациента\",\"description\":\" Пример запроса:\r\n\r\n\t\tPOST /Recipes\r\n\t\t{\r\n\t\t\t\"authkey\": \"fs43ASFDAfsdas34i\",\r\n\t\t\t\"email\": \"1st_man@mail.ru\"\r\n\t\t}\",\"requestBody\":{\"description\":\"\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.RecipeArgs\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.RecipeArgs\"}},\"application/*+json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.RecipeArgs\"}}}},\"responses\":{\"200\":{\"description\":\"\",\"content\":{\"text/plain\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.ModelRecipeLS\"}},\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.ModelRecipeLS\"}},\"text/json\":{\"schema\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.ModelRecipeLS\"}}}}}}}},\"components\":{\"schemas\":{\"AUpload.Global.Models.AssortmentItemData\":{\"type\":\"object\",\"properties\":{\"pharmId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"pharmLogin\":{\"type\":\"string\",\"nullable\": true},\"packId\":{\"type\":\"string\",\"nullable\": true},\"tnId\":{\"type\":\"string\",\"nullable\": true},\"dvId\":{\"type\":\"string\",\"nullable\": true},\"pharmPackId\":{\"type\":\"string\",\"nullable\": true},\"barcode\":{\"type\":\"string\",\"nullable\": true},\"name\":{\"type\":\"string\",\"nullable\": true},\"tradeName\":{\"type\":\"string\",\"nullable\": true},\"mnn\":{\"type\":\"string\",\"nullable\": true},\"composition\":{\"type\":\"string\",\"nullable\": true},\"formDosage\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"type\":\"string\",\"nullable\": true},\"dosage_value\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"dosage_id\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"dosage_custom\":{\"$ref\":\"#/components/schemas/AUpload.Global.Models.FDosageCustom\"},\"form\":{\"type\":\"string\",\"nullable\": true},\"method\":{\"type\":\"string\",\"nullable\": true},\"pack_ecp\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.Pack\"},\"pack\":{\"type\":\"string\",\"nullable\": true},\"manufacturerCountry\":{\"type\":\"string\",\"nullable\": true},\"manufacturer\":{\"type\":\"string\",\"nullable\": true},\"country\":{\"type\":\"string\",\"nullable\": true},\"registrationCertificate\":{\"type\":\"string\",\"nullable\": true},\"registrationDate\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"registrationEndDate\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"registrationCancellationDate\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"registrationOwner\":{\"type\":\"string\",\"nullable\": true},\"activeSubstance\":{\"type\":\"string\",\"nullable\": true},\"productionStages\":{\"type\":\"string\",\"nullable\": true},\"pharmacoTherapeuticGroup\":{\"type\":\"string\",\"nullable\": true},\"consignmentNumber\":{\"type\":\"string\",\"nullable\": true},\"bestBefore\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"deliveryDate\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"quantity\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"quantityFree\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"purchasePrice\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"sellingPrice\":{\"type\":\"number\",\"format\":\"float\",\"nullable\": true},\"discount\":{\"type\":\"number\",\"format\":\"float\",\"nullable\": true},\"sellingPriceType\":{\"type\":\"string\",\"nullable\": true},\"comment\":{\"type\":\"string\",\"nullable\": true},\"location\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"locationHistory\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"type\":{\"type\":\"string\",\"nullable\": true},\"serial\":{\"type\":\"string\",\"nullable\": true},\"gtin\":{\"type\":\"string\",\"nullable\": true},\"validated\":{\"type\":\"boolean\",\"nullable\": true},\"authinticity\":{\"type\":\"boolean\",\"nullable\": true},\"probability_seller\":{\"type\":\"boolean\",\"nullable\": true},\"probability_aquire\":{\"type\":\"boolean\",\"nullable\": true},\"scansCount\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"idBuyer\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"fullQuantity\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"relocationStatus\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true}},\"additionalProperties\": false},\"AUpload.Global.Models.FDosageCustom\":{\"type\":\"object\",\"properties\":{\"form\":{\"type\":\"string\",\"nullable\": true},\"method\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"$ref\":\"#/components/schemas/ECPLib.Common.General.Models.Dosage\"},\"pack\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.Pack\"},\"value\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true}},\"additionalProperties\": false},\"AUpload.Global.Models.Response\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\",\"nullable\": true},\"title\":{\"type\":\"string\",\"nullable\": true},\"message\":{\"type\":\"string\",\"nullable\": true},\"level\":{\"type\":\"string\",\"nullable\": true},\"sticky\":{\"type\":\"boolean\"},\"data\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/AUpload.Upload.Mongo.Models.AssItemData\"},\"nullable\": true}},\"additionalProperties\": false},\"AUpload.Global.Models.ResponseMeth\":{\"type\":\"object\",\"properties\":{\"fp_name\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"AUpload.Upload.Mongo.Models.AssItemData\":{\"type\":\"object\",\"properties\":{\"pharmId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"pharmLogin\":{\"type\":\"string\",\"nullable\": true},\"packId\":{\"type\":\"string\",\"nullable\": true},\"tnId\":{\"type\":\"string\",\"nullable\": true},\"dvId\":{\"type\":\"string\",\"nullable\": true},\"pharmPackId\":{\"type\":\"string\",\"nullable\": true},\"barcode\":{\"type\":\"string\",\"nullable\": true},\"name\":{\"type\":\"string\",\"nullable\": true},\"tradeName\":{\"type\":\"string\",\"nullable\": true},\"mnn\":{\"type\":\"string\",\"nullable\": true},\"composition\":{\"type\":\"string\",\"nullable\": true},\"formDosage\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"type\":\"string\",\"nullable\": true},\"dosage_value\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"dosage_id\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"dosage_custom\":{\"$ref\":\"#/components/schemas/AUpload.Global.Models.FDosageCustom\"},\"form\":{\"type\":\"string\",\"nullable\": true},\"method\":{\"type\":\"string\",\"nullable\": true},\"pack_ecp\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.Pack\"},\"pack\":{\"type\":\"string\",\"nullable\": true},\"manufacturerCountry\":{\"type\":\"string\",\"nullable\": true},\"manufacturer\":{\"type\":\"string\",\"nullable\": true},\"country\":{\"type\":\"string\",\"nullable\": true},\"registrationCertificate\":{\"type\":\"string\",\"nullable\": true},\"registrationDate\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"registrationEndDate\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"registrationCancellationDate\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"registrationOwner\":{\"type\":\"string\",\"nullable\": true},\"activeSubstance\":{\"type\":\"string\",\"nullable\": true},\"productionStages\":{\"type\":\"string\",\"nullable\": true},\"pharmacoTherapeuticGroup\":{\"type\":\"string\",\"nullable\": true},\"consignmentNumber\":{\"type\":\"string\",\"nullable\": true},\"bestBefore\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"deliveryDate\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"quantity\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"quantityFree\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"purchasePrice\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"sellingPrice\":{\"type\":\"number\",\"format\":\"float\",\"nullable\": true},\"discount\":{\"type\":\"number\",\"format\":\"float\",\"nullable\": true},\"sellingPriceType\":{\"type\":\"string\",\"nullable\": true},\"comment\":{\"type\":\"string\",\"nullable\": true},\"location\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"locationHistory\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"type\":{\"type\":\"string\",\"nullable\": true},\"serial\":{\"type\":\"string\",\"nullable\": true},\"gtin\":{\"type\":\"string\",\"nullable\": true},\"validated\":{\"type\":\"boolean\",\"nullable\": true},\"authinticity\":{\"type\":\"boolean\",\"nullable\": true},\"probability_seller\":{\"type\":\"boolean\",\"nullable\": true},\"probability_aquire\":{\"type\":\"boolean\",\"nullable\": true},\"scansCount\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"idBuyer\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"fullQuantity\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"relocationStatus\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"_id\":{\"type\":\"string\",\"nullable\": true},\"packID2\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"ECPLib.Common.Drugs.Models.AppointmentCalendar\":{\"type\":\"object\",\"properties\":{\"date\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"timeReceipt\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.AppointmentCalendarItem\"},\"nullable\": true}},\"additionalProperties\": false},\"ECPLib.Common.Drugs.Models.AppointmentCalendarItem\":{\"type\":\"object\",\"properties\":{\"hours\":{\"type\":\"integer\",\"format\":\"int32\"},\"minutes\":{\"type\":\"integer\",\"format\":\"int32\"},\"count\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true}},\"additionalProperties\": false},\"ECPLib.Common.Drugs.Models.Calc\":{\"type\":\"object\",\"properties\":{\"dosageBaseUnit\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"countBaseUnit\":{\"type\":\"string\",\"nullable\": true},\"countUnit\":{\"type\":\"string\",\"nullable\": true},\"count\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"dosageUnit\":{\"type\":\"string\",\"nullable\": true},\"dayCount\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"fullDosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"weightDosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"dayDosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"dayWeightDosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"durationCount\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"durationUnit\":{\"type\":\"string\",\"nullable\": true},\"fullSpeed\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"liquidSpeed\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"tintSpeed\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"weightSpeed\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true}},\"additionalProperties\": false},\"ECPLib.Common.Drugs.Models.Drug\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"nullable\": true},\"id\":{\"type\":\"string\",\"nullable\": true},\"fpid\":{\"type\":\"string\",\"nullable\": true},\"recipeCount\":{\"type\":\"integer\",\"format\":\"int32\"},\"mnnid\":{\"type\":\"string\",\"nullable\": true},\"mnnname\":{\"type\":\"string\",\"nullable\": true},\"type\":{\"type\":\"string\",\"nullable\": true},\"level\":{\"type\":\"integer\",\"format\":\"int32\"},\"name\":{\"type\":\"string\",\"nullable\": true},\"namesearch\":{\"type\":\"string\",\"nullable\": true},\"group\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"recipenameid\":{\"type\":\"string\",\"nullable\": true},\"text\":{\"type\":\"string\",\"nullable\": true},\"parsedosage\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.FDosage\"},\"calc\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.Calc\"},\"schedule\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.Schedule\"},\"duration\":{\"type\":\"string\",\"nullable\": true},\"duration_id\":{\"type\":\"string\",\"nullable\": true},\"freq\":{\"type\":\"string\",\"nullable\": true},\"freq_id\":{\"type\":\"string\",\"nullable\": true},\"solute\":{\"type\":\"boolean\"},\"specials\":{\"type\":\"string\",\"nullable\": true},\"liquid\":{\"type\":\"boolean\",\"nullable\": true},\"proto\":{\"type\":\"string\",\"nullable\": true},\"proto_date\":{\"type\":\"string\",\"nullable\": true},\"proto_key\":{\"type\":\"string\",\"nullable\": true},\"pdate\":{\"type\":\"string\",\"nullable\": true},\"pproto\":{\"type\":\"string\",\"nullable\": true},\"pkey\":{\"type\":\"string\",\"nullable\": true},\"repeal\":{\"type\":\"boolean\"},\"repealdoc\":{\"type\":\"string\",\"nullable\": true},\"repealdate\":{\"type\":\"string\",\"nullable\": true},\"repealproto\":{\"type\":\"string\",\"nullable\": true},\"edit\":{\"type\":\"boolean\"},\"recipes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"nullable\": true},\"lastrecipe\":{\"type\":\"string\",\"nullable\": true,\"readOnly\": true},\"date\":{\"type\":\"integer\",\"format\":\"int64\"},\"fields\":{\"type\":\"object\",\"additionalProperties\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"nullable\": true}},\"additionalProperties\": false},\"ECPLib.Common.Drugs.Models.FDosage\":{\"type\":\"object\",\"properties\":{\"form\":{\"type\":\"string\",\"nullable\": true},\"form_name\":{\"type\":\"string\",\"nullable\": true},\"form_name_short\":{\"type\":\"string\",\"nullable\": true},\"method\":{\"type\":\"string\",\"nullable\": true},\"method_name\":{\"type\":\"string\",\"nullable\": true},\"method_name_short\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/ECPLib.Common.General.Models.Dosage\"},\"nullable\": true},\"pack\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.Pack\"},\"value\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true}},\"additionalProperties\": false},\"ECPLib.Common.Drugs.Models.Pack\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\",\"nullable\": true},\"name\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"$ref\":\"#/components/schemas/ECPLib.Common.General.Models.Dosage\"}},\"additionalProperties\": false},\"ECPLib.Common.Drugs.Models.Schedule\":{\"type\":\"object\",\"properties\":{\"dateStart\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"dateFinish\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"finishAlternate\":{\"type\":\"string\",\"nullable\": true},\"interval\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/ECPLib.Common.General.Models.Interval\"},\"nullable\": true},\"once\":{\"type\":\"boolean\",\"nullable\": true},\"appointmentСalendar\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.AppointmentCalendar\"},\"nullable\": true}},\"additionalProperties\": false},\"ECPLib.Common.General.Models.Concept\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"nullable\": true},\"id\":{\"type\":\"string\",\"nullable\": true},\"fpid\":{\"type\":\"string\",\"nullable\": true},\"type\":{\"type\":\"string\",\"nullable\": true},\"level\":{\"type\":\"integer\",\"format\":\"int32\"},\"name\":{\"type\":\"string\",\"nullable\": true},\"namesearch\":{\"type\":\"string\",\"nullable\": true},\"group\":{\"type\":\"integer\",\"format\":\"int32\"},\"main\":{\"type\":\"boolean\"},\"code\":{\"type\":\"string\",\"nullable\": true},\"nameshort\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"ECPLib.Common.General.Models.Dosage\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"nullable\": true},\"value_1\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"value_2\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"id_1\":{\"type\":\"string\",\"nullable\": true},\"id_2\":{\"type\":\"string\",\"nullable\": true},\"id\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"ECPLib.Common.General.Models.Interval\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"nullable\": true},\"x\":{\"type\":\"number\",\"format\":\"double\"},\"timesx\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"MongoDB.Driver.GeoJsonObjectModel.GeoJson2DGeographicCoordinates\":{\"type\":\"object\",\"properties\":{\"values\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true,\"readOnly\": true},\"longitude\":{\"type\":\"number\",\"format\":\"double\",\"readOnly\": true},\"latitude\":{\"type\":\"number\",\"format\":\"double\",\"readOnly\": true}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.AttacheDrugstore\":{\"type\":\"object\",\"properties\":{\"authkey\":{\"type\":\"string\",\"description\":\"authkey пользователя\",\"nullable\": true},\"key\":{\"type\":\"string\",\"description\":\"key пользователя\",\"nullable\": true},\"drugstoreId\":{\"type\":\"integer\",\"description\":\"IDшник аптеки\",\"format\":\"int32\",\"nullable\": true},\"lic_code\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.Drugstore.Day\":{\"type\":\"object\",\"properties\":{\"startTime\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"endTime\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"breakStart\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"breakEnd\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.Drugstore.DrugNetModel\":{\"type\":\"object\",\"properties\":{\"ogrn_ogrip\":{\"type\":\"integer\",\"description\":\"Код ОГРН/ОГРИП\",\"format\":\"int32\"},\"inn\":{\"type\":\"integer\",\"description\":\"ИНН\",\"format\":\"int32\"},\"label\":{\"type\":\"string\",\"nullable\": true},\"longId\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"parentId\":{\"type\":\"integer\",\"description\":\"idшник аптеки-родителя\",\"format\":\"int64\",\"nullable\": true},\"typeText\":{\"type\":\"string\",\"description\":\"Сюда посылаем \"Аптека\"\",\"nullable\": true},\"userId\":{\"type\":\"string\",\"description\":\"Юзверь аптеки\",\"nullable\": true},\"address\":{\"type\":\"string\",\"description\":\"адресс\",\"nullable\": true},\"addressVCId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"license\":{\"type\":\"string\",\"description\":\"Номер лицензии\",\"nullable\": true},\"licenseVCId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"phone\":{\"type\":\"string\",\"nullable\": true},\"phoneVCId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"title\":{\"type\":\"string\",\"description\":\"название аптеки\",\"nullable\": true},\"nameLongId\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"pharmId\":{\"type\":\"integer\",\"description\":\"ID аптеки в системе UMKB\",\"format\":\"int32\"},\"users\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.User.UserModel\"},\"nullable\": true},\"isActive\":{\"type\":\"boolean\",\"description\":\"Активирована ли аптека в системе ФармТакси\"},\"isHidden\":{\"type\":\"boolean\",\"description\":\"Поле, чтоб прятать аптеку\"},\"authkey\":{\"type\":\"string\",\"nullable\": true},\"key\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.User.UserModel\":{\"type\":\"object\",\"properties\":{\"longId\":{\"type\":\"integer\",\"format\":\"int64\"}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.Drugstore.DrugstoreModel\":{\"type\":\"object\",\"properties\":{\"ogrn_ogrip\":{\"type\":\"integer\",\"description\":\"Код ОГРН/ОГРИП\",\"format\":\"int32\"},\"inn\":{\"type\":\"integer\",\"description\":\"ИНН\",\"format\":\"int32\"},\"label\":{\"type\":\"string\",\"nullable\": true},\"longId\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"parentId\":{\"type\":\"integer\",\"description\":\"idшник аптеки-родителя\",\"format\":\"int64\",\"nullable\": true},\"typeText\":{\"type\":\"string\",\"description\":\"Сюда посылаем \"Аптека\"\",\"nullable\": true},\"userId\":{\"type\":\"string\",\"description\":\"Юзверь аптеки\",\"nullable\": true},\"address\":{\"type\":\"string\",\"description\":\"адресс\",\"nullable\": true},\"addressVCId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"license\":{\"type\":\"string\",\"description\":\"Номер лицензии\",\"nullable\": true},\"licenseVCId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"phone\":{\"type\":\"string\",\"nullable\": true},\"phoneVCId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"title\":{\"type\":\"string\",\"description\":\"название аптеки\",\"nullable\": true},\"nameLongId\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"pharmId\":{\"type\":\"integer\",\"description\":\"ID аптеки в системе UMKB\",\"format\":\"int32\"},\"users\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.User.UserModel\"},\"nullable\": true},\"isActive\":{\"type\":\"boolean\",\"description\":\"Активирована ли аптека в системе ФармТакси\"},\"isHidden\":{\"type\":\"boolean\",\"description\":\"Поле, чтоб прятать аптеку\"},\"authkey\":{\"type\":\"string\",\"nullable\": true},\"key\":{\"type\":\"string\",\"nullable\": true},\"latitude\":{\"type\":\"number\",\"description\":\"Координаты аптеки\",\"format\":\"double\"},\"longitude\":{\"type\":\"number\",\"format\":\"double\"},\"location\":{\"$ref\":\"#/components/schemas/MongoDB.Driver.GeoJsonObjectModel.GeoJson2DGeographicCoordinates\"},\"mon\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"tue\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"wed\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"thu\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"fri\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"sat\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"sun\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.Drugstore.DrugstoreModelList\":{\"type\":\"object\",\"properties\":{\"pharms\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModel\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.LS\":{\"type\":\"object\",\"properties\":{\"liquid\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.Drug\"},\"drugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.Drug\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.ModelRecipeLS\":{\"type\":\"object\",\"properties\":{\"recipe_code\":{\"type\":\"string\",\"nullable\": true},\"alert\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.User.Alert\"},\"liquids\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.LS\"},\"description\":\"Назначеная фармакотерапия\",\"nullable\": true},\"names\":{\"type\":\"object\",\"additionalProperties\":{\"type\":\"string\"},\"description\":\"Имена к айдишникам (если их нет в кэше) в фармакотерапии в нужной локали\",\"nullable\": true},\"patient\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Patient\"},\"idDoc\":{\"type\":\"string\",\"description\":\"Id врача выписавшего рецепт\",\"nullable\": true},\"idUser\":{\"type\":\"string\",\"description\":\"Id юзера, выписавшего рецепт\",\"nullable\": true},\"idDep\":{\"type\":\"string\",\"description\":\"Id отделения, где выписали рецепт\",\"nullable\": true},\"idClinic\":{\"type\":\"string\",\"description\":\"Id клиники, где выписали рецепт\",\"nullable\": true},\"dateStart\":{\"type\":\"integer\",\"description\":\"Дата выписки рецепта (UnixTime мс.)\",\"format\":\"int64\"},\"dateEnd\":{\"type\":\"integer\",\"description\":\"Дата окончания действия рецепта (UnixTime мс.)\",\"format\":\"int64\",\"nullable\": true},\"dateEndItem\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.TableValueItem\"},\"idForm\":{\"type\":\"string\",\"description\":\"ID Рецептурной формы\",\"nullable\": true},\"idStatus\":{\"type\":\"string\",\"description\":\"Статус рецепта\",\"nullable\": true},\"dCode\":{\"type\":\"string\",\"description\":\"Диагноз по МКБ10\",\"nullable\": true},\"pBirthday\":{\"type\":\"string\",\"description\":\"Дата рождения пациента (на момент выписки)\",\"nullable\": true},\"pSnils\":{\"type\":\"string\",\"description\":\"СНИЛС пациента (на момент выписки)\",\"nullable\": true},\"dTextComment\":{\"type\":\"string\",\"description\":\"Коментарий врача\",\"nullable\": true},\"dText\":{\"type\":\"object\",\"additionalProperties\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"description\":\"Список тегов шаблона\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.Patient\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\",\"description\":\"ulong id пациента в системе UMKB\",\"nullable\": true},\"name\":{\"type\":\"string\",\"description\":\"Имя пациента (ник)\",\"nullable\": true},\"email\":{\"type\":\"string\",\"description\":\"e-mail пациента\",\"nullable\": true},\"miscode\":{\"type\":\"string\",\"description\":\"на будущее ID в МИСе\",\"nullable\": true},\"misid\":{\"type\":\"string\",\"description\":\"на будущее ID МИСа\",\"nullable\": true},\"fio\":{\"type\":\"string\",\"description\":\"ФИО\",\"nullable\": true},\"snils\":{\"type\":\"string\",\"description\":\"СНИЛС\",\"nullable\": true},\"key\":{\"type\":\"string\",\"nullable\": true},\"birthdate\":{\"type\":\"integer\",\"description\":\"Дата рождения (UNIXTIME). до 1970 года - отрицательная\",\"format\":\"int64\",\"nullable\": true},\"sex\":{\"type\":\"string\",\"description\":\"Пол (male|female)\",\"nullable\": true},\"growth\":{\"type\":\"number\",\"description\":\"Рост (см)\",\"format\":\"double\",\"nullable\": true},\"weight\":{\"type\":\"number\",\"description\":\"Вес (кг)\",\"format\":\"double\",\"nullable\": true},\"disease\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/ECPLib.Common.General.Models.Concept\"},\"description\":\"Основные заболевания (lib 61|25)\",\"nullable\": true},\"coDisease\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/ECPLib.Common.General.Models.Concept\"},\"nullable\": true},\"pregnancy\":{\"type\":\"boolean\",\"description\":\"Флаг беременности\"},\"gestation\":{\"type\":\"integer\",\"description\":\"Неделя беременности\",\"format\":\"int32\",\"nullable\": true},\"trimester\":{\"type\":\"integer\",\"description\":\"Триместр беременности\",\"format\":\"int32\",\"nullable\": true},\"lactation\":{\"type\":\"boolean\",\"description\":\"Флаг кормления грудью\"},\"driving\":{\"type\":\"boolean\",\"description\":\"Флаг вождения\"},\"alcohol\":{\"type\":\"boolean\",\"description\":\"Флаг порверки на алкоголь\"},\"allergy\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/ECPLib.Common.General.Models.Concept\"},\"description\":\"Аллергия пациента (lib 62|52|37|60)\",\"nullable\": true},\"labparams\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Лабораторные показатели\",\"nullable\": true},\"actualproto\":{\"type\":\"object\",\"additionalProperties\":{\"uniqueItems\": true,\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"description\":\"Список актуальных протоколов фармтерапии.\r\nКлюч - имя коллекции, тело - список BsonId.\",\"nullable\": true}},\"additionalProperties\": false,\"description\":\"Информация о пациенте\"},\"PharmTaxiAdm.Models.TableValueItem\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\",\"description\":\"ID концепта\",\"nullable\": true},\"name\":{\"type\":\"string\",\"description\":\"Наименование концепта\",\"nullable\": true},\"value\":{\"type\":\"number\",\"description\":\"Параметрическое значение\",\"format\":\"double\",\"nullable\": true},\"unit\":{\"type\":\"integer\",\"description\":\"Единица измерения значения\",\"format\":\"int32\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.User.Alert\":{\"type\":\"object\",\"additionalProperties\": false},\"PharmTaxiAdm.Models.User.AuthKeyByLicKey\":{\"type\":\"object\",\"properties\":{\"authkey\":{\"type\":\"string\",\"nullable\": true},\"key\":{\"type\":\"string\",\"nullable\": true},\"email\":{\"type\":\"string\",\"nullable\": true},\"master_service\":{\"type\":\"string\",\"nullable\": true},\"slave_service\":{\"type\":\"string\",\"nullable\": true},\"drugstore_id\":{\"type\":\"string\",\"nullable\": true},\"master_authkey\":{\"type\":\"string\",\"nullable\": true},\"slave_authkey\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAdm.Models.WriteOffRequest\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"лицц ключ\",\"nullable\": true},\"pharmId\":{\"type\":\"string\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"nullable\": true},\"drugstore_id\":{\"type\":\"string\",\"nullable\": true},\"auth_key\":{\"type\":\"string\",\"nullable\": true},\"medicaments\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Meds\"},\"nullable\": true},\"recipe\":{\"type\":\"string\",\"description\":\"Номер заказа\",\"nullable\": true},\"status\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.APIChangeAss\":{\"type\":\"object\",\"properties\":{\"lass\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.ChangeAss\"},\"description\":\"Лист объектов типа AssortimentItemData (объект типа ассортимента - с информацией о количестве и ФП нижнего уровня)\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"description\":\"ключ\",\"nullable\": true},\"key\":{\"type\":\"string\",\"description\":\"лицц ключ\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.APIRequestAss\":{\"type\":\"object\",\"properties\":{\"lass\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/AUpload.Global.Models.AssortmentItemData\"},\"description\":\"Лист объектов типа AssortimentItemData (объект типа ассортимента - с информацией о количестве и ФП нижнего уровня)\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"description\":\"ключ\",\"nullable\": true},\"key\":{\"type\":\"string\",\"description\":\"лицц ключ\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.APIRequestPrice\":{\"type\":\"object\",\"properties\":{\"pass\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/AUpload.Global.Models.AssortmentItemData\"},\"description\":\"Лист объектов типа PriceItemData (объект типа цен - с информацией о цене и ФП нижнего уровня)\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"description\":\"ключ\",\"nullable\": true},\"key\":{\"type\":\"string\",\"description\":\"лицц ключ\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.ChangeAss\":{\"type\":\"object\",\"properties\":{\"qty\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"quantity\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"price\":{\"type\":\"number\",\"format\":\"float\",\"nullable\": true},\"sellingPrice\":{\"type\":\"number\",\"format\":\"float\",\"nullable\": true},\"pharm_id\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"pharmId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"pharm_pack_id\":{\"type\":\"string\",\"nullable\": true},\"pharmPackId\":{\"type\":\"string\",\"nullable\": true},\"fp_id\":{\"type\":\"string\",\"description\":\"Уникальный номер упаковки медикамента в системе UMKB\",\"nullable\": true},\"packId\":{\"type\":\"string\",\"nullable\": true},\"qty_free\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"quantityFree\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.CreateDrugstoreWLicReq\":{\"type\":\"object\",\"properties\":{\"authkey\":{\"type\":\"string\",\"nullable\": true},\"key\":{\"type\":\"string\",\"nullable\": true},\"parent_id\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"userId\":{\"type\":\"string\",\"nullable\": true},\"data\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.SingleDrugWLic\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.ExtenendedDrugstore\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"nullable\": true},\"activity\":{\"type\":\"string\",\"description\":\"(вид деятельности на которую выдана лицензия)\",\"nullable\": true},\"address_fact\":{\"type\":\"string\",\"description\":\"(полный адрес: индекс + город + улица + дом)\",\"nullable\": true},\"address_fact_street\":{\"type\":\"string\",\"description\":\"(короткий адрес: улица + дом)\",\"nullable\": true},\"address_fact_zip\":{\"type\":\"string\",\"description\":\"(индекс)\",\"nullable\": true},\"appartment_num\":{\"type\":\"string\",\"nullable\": true},\"building_num\":{\"type\":\"string\",\"nullable\": true},\"city\":{\"type\":\"string\",\"nullable\": true},\"code_fias\":{\"type\":\"string\",\"description\":\"(хз че за код внутри росздравнадзора, но пусть будет, выглядит так: \"40c70f85-2502-4a92-8aa9-4efc03c2d521\")\",\"nullable\": true},\"district_label\":{\"type\":\"string\",\"nullable\": true},\"dt_created\":{\"type\":\"string\",\"description\":\"\"2017-09-21 10:09:17\" (дата создания)\",\"nullable\": true},\"dt_edited\":{\"type\":\"string\",\"description\":\"\"2017-09-21 10:09:17\" (дата последнего изменения)\",\"nullable\": true},\"ext_city_id\":{\"type\":\"string\",\"nullable\": true},\"ext_db\":{\"type\":\"string\",\"nullable\": true},\"ext_id\":{\"type\":\"string\",\"nullable\": true},\"ext_org\":{\"type\":\"string\",\"nullable\": true},\"ext_region_id\":{\"type\":\"string\",\"nullable\": true},\"ext_type_id\":{\"type\":\"string\",\"nullable\": true},\"fake\":{\"type\":\"string\",\"nullable\": true},\"from_b2b\":{\"type\":\"string\",\"nullable\": true},\"house_num\":{\"type\":\"string\",\"nullable\": true},\"id\":{\"type\":\"string\",\"description\":\"\"766954\" (айдишник внутри Росздравнадзора)\",\"nullable\": true},\"id_create_user\":{\"type\":\"string\",\"description\":\"\"81841\"\",\"nullable\": true},\"id_department\":{\"type\":\"string\",\"nullable\": true},\"id_licenses_apps_object\":{\"type\":\"string\",\"description\":\"\"3638603\"\",\"nullable\": true},\"id_organization\":{\"type\":\"string\",\"nullable\": true},\"id_revision\":{\"type\":\"string\",\"nullable\": true},\"id_type_org\":{\"type\":\"string\",\"description\":\"\"2\"\",\"nullable\": true},\"id_user_edited\":{\"type\":\"string\",\"nullable\": true},\"id_voc_city\":{\"type\":\"string\",\"nullable\": true},\"id_voc_district\":{\"type\":\"string\",\"nullable\": true},\"id_voc_licenser\":{\"type\":\"string\",\"nullable\": true},\"id_voc_producer\":{\"type\":\"string\",\"nullable\": true},\"id_voc_region\":{\"type\":\"string\",\"nullable\": true},\"id_voc_revision_activity_items\":{\"type\":\"string\",\"description\":\"\"14687,14685,14683,14686\"\",\"nullable\": true},\"id_voc_revision_object_type\":{\"type\":\"string\",\"nullable\": true},\"id_voc_settlements\":{\"type\":\"string\",\"nullable\": true},\"ids_voc_revision_activities\":{\"type\":\"string\",\"nullable\": true},\"is_active_b2b\":{\"type\":\"string\",\"nullable\": true},\"is_actual\":{\"type\":\"string\",\"nullable\": true},\"is_foreign\":{\"type\":\"string\",\"nullable\": true},\"is_med_business_check\":{\"type\":\"string\",\"nullable\": true},\"is_not_code_fias\":{\"type\":\"string\",\"nullable\": true},\"is_save_region\":{\"type\":\"string\",\"nullable\": true},\"kladr\":{\"type\":\"string\",\"nullable\": true},\"label\":{\"type\":\"string\",\"description\":\"\"Общество с ограниченной ответственностью \"Аптечная сеть Оз\"\"\",\"nullable\": true},\"label_firm\":{\"type\":\"string\",\"nullable\": true},\"label_short\":{\"type\":\"string\",\"nullable\": true},\"okato\":{\"type\":\"string\",\"nullable\": true},\"oktmo\":{\"type\":\"string\",\"nullable\": true},\"region\":{\"type\":\"string\",\"nullable\": true},\"street\":{\"type\":\"string\",\"nullable\": true},\"address\":{\"type\":\"string\",\"nullable\": true},\"addressVCId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"isActive\":{\"type\":\"boolean\"},\"license\":{\"type\":\"string\",\"nullable\": true},\"licenseVCId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"longId\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"nameLongId\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"parentId\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"pharmId\":{\"type\":\"integer\",\"format\":\"int32\"},\"phone\":{\"type\":\"string\",\"nullable\": true},\"phoneVCId\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"title\":{\"type\":\"string\",\"nullable\": true},\"typeText\":{\"type\":\"string\",\"nullable\": true},\"userId\":{\"type\":\"string\",\"nullable\": true},\"users\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.User.UserModel\"},\"nullable\": true},\"latitude\":{\"type\":\"number\",\"format\":\"double\"},\"longitude\":{\"type\":\"number\",\"format\":\"double\"},\"mon\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"tue\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"wed\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"thu\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"fri\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"sat\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"sun\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.Day\"},\"isHidden\":{\"type\":\"boolean\"}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.ForceLoadAPIRequestAss\":{\"type\":\"object\",\"properties\":{\"lass\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/AUpload.Global.Models.AssortmentItemData\"},\"description\":\"Лист объектов типа AssortimentItemData (объект типа ассортимента - с информацией о количестве и ФП нижнего уровня)\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"description\":\"ключ\",\"nullable\": true},\"key\":{\"type\":\"string\",\"description\":\"лицц ключ\",\"nullable\": true},\"forceLoad\":{\"type\":\"boolean\"}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.GetBy\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"лиц ключ\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"description\":\"ключ авторизации\",\"nullable\": true},\"userid\":{\"type\":\"string\",\"description\":\"id пользователя\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.GetByPharmId\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"лиц ключ\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"description\":\"ключ авторизации\",\"nullable\": true},\"pharmid\":{\"type\":\"string\",\"description\":\"id пользователя\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.GetDrugstoresResp\":{\"type\":\"object\",\"properties\":{\"alert\":{\"$ref\":\"#/components/schemas/UMKBRequests.Alert\"},\"role\":{\"type\":\"string\",\"nullable\": true},\"drugstores\":{\"uniqueItems\": true,\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.Drugstore.DrugstoreModel\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.GetRecipeJSON\":{\"type\":\"object\",\"properties\":{\"pharmId\":{\"type\":\"string\",\"description\":\"id Аптеки\",\"nullable\": true},\"receiptCode\":{\"type\":\"string\",\"description\":\"Код рецепта\",\"nullable\": true},\"fio\":{\"type\":\"string\",\"description\":\"ФИО пациента\",\"nullable\": true},\"birthdate\":{\"type\":\"string\",\"description\":\"Дата рождения пациента\",\"nullable\": true},\"snils\":{\"type\":\"string\",\"description\":\"СНИЛС пациента\",\"nullable\": true},\"region\":{\"type\":\"string\",\"description\":\"Регион работы аптеки\",\"nullable\": true},\"dateOfReceipt\":{\"type\":\"string\",\"description\":\"Дата рецепта\",\"nullable\": true},\"patientId\":{\"type\":\"integer\",\"description\":\"Id пациента\",\"format\":\"int32\"},\"receiptsCodes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"description\":\"Массив кодов рецептов\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.MedicationDispense\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"nullable\": true},\"code\":{\"type\":\"string\",\"nullable\": true},\"handbook\":{\"type\":\"string\",\"nullable\": true},\"count\":{\"type\":\"integer\",\"format\":\"int32\"},\"price\":{\"type\":\"integer\",\"format\":\"int32\"},\"signa\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.MedsD\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\",\"description\":\"ID ФП\",\"nullable\": true},\"table\":{\"type\":\"string\",\"nullable\": true},\"name\":{\"type\":\"string\",\"description\":\"Имя ФП\",\"nullable\": true},\"value\":{\"type\":\"string\",\"nullable\": true},\"packs\":{\"type\":\"integer\",\"description\":\"количество упаковое\",\"format\":\"int32\"},\"send\":{\"type\":\"string\",\"nullable\": true},\"removed\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"type\":\"string\",\"nullable\": true},\"tn\":{\"type\":\"string\",\"description\":\"ID ТН\",\"nullable\": true},\"drugstore_drug_id\":{\"type\":\"string\",\"description\":\"ID из аптеки\",\"nullable\": true},\"price\":{\"type\":\"number\",\"format\":\"double\"}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.OrderToSaveD\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\",\"nullable\": true},\"pharm_id\":{\"type\":\"integer\",\"format\":\"int32\"},\"user_id\":{\"type\":\"string\",\"nullable\": true},\"order_id\":{\"type\":\"string\",\"nullable\": true},\"recipe\":{\"type\":\"string\",\"nullable\": true},\"drugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.MedsD\"},\"nullable\": true},\"isActive\":{\"type\":\"boolean\"},\"creationDate\":{\"type\":\"integer\",\"format\":\"int64\"},\"issueDate\":{\"type\":\"integer\",\"format\":\"int64\"},\"deliveryAddress\":{\"type\":\"string\",\"nullable\": true},\"status\":{\"type\":\"integer\",\"description\":\"status заказа:\r\n-1 - отменён\r\n0 - в обработке\r\n1 - готов к выдаче\r\n2 - выдан\",\"format\":\"int32\"},\"delivery\":{\"type\":\"boolean\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.PersonalSignature\":{\"type\":\"object\",\"properties\":{\"signerRole\":{\"type\":\"string\",\"nullable\": true},\"signature\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.Pharmacist\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"nullable\": true},\"surname\":{\"type\":\"string\",\"nullable\": true},\"patronymic\":{\"type\":\"string\",\"nullable\": true},\"snils\":{\"type\":\"string\",\"nullable\": true},\"frmrMedicalStaffPostCode\":{\"type\":\"integer\",\"format\":\"int32\"}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.Pharmacy\":{\"type\":\"object\",\"properties\":{\"ogrn\":{\"type\":\"string\",\"nullable\": true},\"oid\":{\"type\":\"string\",\"nullable\": true},\"name\":{\"type\":\"string\",\"nullable\": true},\"inn\":{\"type\":\"string\",\"nullable\": true},\"pharmacist\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.Pharmacist\"}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.RecipReleaseReq\":{\"type\":\"object\",\"properties\":{\"authkey\":{\"type\":\"string\",\"nullable\": true},\"key\":{\"type\":\"string\",\"nullable\": true},\"localUid\":{\"type\":\"string\",\"nullable\": true},\"prescriptionUid\":{\"type\":\"string\",\"nullable\": true},\"date\":{\"type\":\"string\",\"format\":\"date-time\"},\"pharmacy\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.Pharmacy\"},\"medicationDispense\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.MedicationDispense\"},\"isPartialDispense\":{\"type\":\"boolean\"},\"cancel\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.Cancel\"},\"software\":{\"type\":\"string\",\"nullable\": true},\"semds\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.Semd\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.Cancel\":{\"type\":\"object\",\"properties\":{\"reason\":{\"type\":\"string\",\"nullable\": true},\"reasonFederalCode\":{\"type\":\"integer\",\"format\":\"int32\"}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.RecognizeResp\":{\"type\":\"object\",\"properties\":{\"responses\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/AUpload.Global.Models.ResponseMeth\"},\"nullable\": true},\"alert\":{\"$ref\":\"#/components/schemas/PharmTaxiAdm.Models.User.Alert\"}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.RegistrationData\":{\"type\":\"object\",\"properties\":{\"federalRegNumber\":{\"type\":\"string\",\"nullable\": true},\"remdState\":{\"type\":\"string\",\"nullable\": true},\"remdStateDate\":{\"type\":\"string\",\"format\":\"date-time\"},\"remdErrors\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.RemdError\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.RemdError\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"nullable\": true},\"message\":{\"type\":\"string\",\"nullable\": true},\"code\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.SaveOrderD\":{\"type\":\"object\",\"properties\":{\"authkey\":{\"type\":\"string\",\"nullable\": true},\"order\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.OrderToSaveD\"}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.Semd\":{\"type\":\"object\",\"properties\":{\"localUid\":{\"type\":\"string\",\"nullable\": true},\"version\":{\"type\":\"integer\",\"format\":\"int32\"},\"number\":{\"type\":\"string\",\"nullable\": true},\"departmentCode\":{\"type\":\"string\",\"nullable\": true},\"departmentName\":{\"type\":\"string\",\"nullable\": true},\"createDateTime\":{\"type\":\"string\",\"format\":\"date-time\"},\"data\":{\"type\":\"string\",\"nullable\": true},\"orgSignature\":{\"type\":\"string\",\"nullable\": true},\"registrationData\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.RegistrationData\"},\"personalSignatures\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.PersonalSignature\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiAPI.Models.SingleDrugWLic\":{\"type\":\"object\",\"properties\":{\"parent_id\":{\"type\":\"integer\",\"description\":\"ID сети (аптеки) из системы ЮМКБ, к которой относится лицензия\",\"format\":\"int32\",\"nullable\": true},\"userId\":{\"type\":\"string\",\"nullable\": true},\"license\":{\"type\":\"string\",\"nullable\": true},\"name\":{\"type\":\"string\",\"nullable\": true},\"issuing\":{\"type\":\"string\",\"nullable\": true},\"address\":{\"type\":\"string\",\"nullable\": true},\"dateStart\":{\"type\":\"string\",\"nullable\": true},\"dateEnd\":{\"type\":\"string\",\"nullable\": true},\"ogrn\":{\"type\":\"string\",\"nullable\": true},\"inn\":{\"type\":\"string\",\"nullable\": true},\"order\":{\"type\":\"string\",\"nullable\": true},\"orderFresh\":{\"type\":\"string\",\"nullable\": true},\"pharms\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiAPI.Models.ExtenendedDrugstore\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiApp.Models.eRp.Request.Cancel\":{\"type\":\"object\",\"properties\":{\"reason\":{\"type\":\"string\",\"nullable\": true},\"reasonFederalCode\":{\"type\":\"integer\",\"format\":\"int32\"}},\"additionalProperties\": false},\"PharmTaxiApp.Models.eRp.Request.MedicationDispense\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"nullable\": true},\"code\":{\"type\":\"string\",\"nullable\": true},\"handbook\":{\"type\":\"string\",\"nullable\": true},\"count\":{\"type\":\"integer\",\"format\":\"int32\"},\"price\":{\"type\":\"integer\",\"format\":\"int32\"},\"signa\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiApp.Models.eRp.Request.PersonalSignature\":{\"type\":\"object\",\"properties\":{\"signerRole\":{\"type\":\"string\",\"nullable\": true},\"signature\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiApp.Models.eRp.Request.Pharmacist\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\",\"nullable\": true},\"surname\":{\"type\":\"string\",\"nullable\": true},\"patronymic\":{\"type\":\"string\",\"nullable\": true},\"snils\":{\"type\":\"string\",\"nullable\": true},\"frmrMedicalStaffPostCode\":{\"type\":\"integer\",\"format\":\"int32\"}},\"additionalProperties\": false},\"PharmTaxiApp.Models.eRp.Request.Pharmacy\":{\"type\":\"object\",\"properties\":{\"ogrn\":{\"type\":\"string\",\"nullable\": true},\"oid\":{\"type\":\"string\",\"nullable\": true},\"name\":{\"type\":\"string\",\"nullable\": true},\"inn\":{\"type\":\"string\",\"nullable\": true},\"pharmacist\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.Pharmacist\"}},\"additionalProperties\": false},\"PharmTaxiApp.Models.eRp.Request.PrescrList\":{\"type\":\"object\",\"properties\":{\"uid\":{\"type\":\"string\",\"nullable\": true},\"prescribedMedicationGuid\":{\"type\":\"string\",\"nullable\": true},\"snils\":{\"type\":\"string\",\"nullable\": true},\"formTypeCode\":{\"type\":\"string\",\"nullable\": true},\"phone\":{\"type\":\"string\",\"nullable\": true},\"isSendFailed\":{\"type\":\"boolean\",\"nullable\": true},\"dateBegin\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"dateEnd\":{\"type\":\"string\",\"format\":\"date-time\",\"nullable\": true},\"skip\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"take\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiApp.Models.eRp.Request.RegistrationData\":{\"type\":\"object\",\"properties\":{\"federalRegNumber\":{\"type\":\"string\",\"nullable\": true},\"remdState\":{\"type\":\"string\",\"nullable\": true},\"remdStateDate\":{\"type\":\"string\",\"format\":\"date-time\"},\"remdErrors\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.RemdError\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiApp.Models.eRp.Request.ReleasePrescr\":{\"type\":\"object\",\"properties\":{\"localUid\":{\"type\":\"string\",\"nullable\": true},\"prescriptionUid\":{\"type\":\"string\",\"nullable\": true},\"date\":{\"type\":\"string\",\"format\":\"date-time\"},\"pharmacy\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.Pharmacy\"},\"medicationDispense\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.MedicationDispense\"},\"isPartialDispense\":{\"type\":\"boolean\"},\"cancel\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.Cancel\"},\"software\":{\"type\":\"string\",\"nullable\": true},\"semds\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.Semd\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiApp.Models.eRp.Request.RemdError\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"nullable\": true},\"message\":{\"type\":\"string\",\"nullable\": true},\"code\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiApp.Models.eRp.Request.Semd\":{\"type\":\"object\",\"properties\":{\"localUid\":{\"type\":\"string\",\"nullable\": true},\"version\":{\"type\":\"integer\",\"format\":\"int32\"},\"number\":{\"type\":\"string\",\"nullable\": true},\"departmentCode\":{\"type\":\"string\",\"nullable\": true},\"departmentName\":{\"type\":\"string\",\"nullable\": true},\"createDateTime\":{\"type\":\"string\",\"format\":\"date-time\"},\"data\":{\"type\":\"string\",\"nullable\": true},\"orgSignature\":{\"type\":\"string\",\"nullable\": true},\"registrationData\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.RegistrationData\"},\"personalSignatures\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/PharmTaxiApp.Models.eRp.Request.PersonalSignature\"},\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiApp.Models.GP2\":{\"type\":\"object\",\"properties\":{\"authkey\":{\"type\":\"string\",\"nullable\": true},\"email\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"PharmTaxiApp.Models.RecipeArgs\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"description\":\"Постоянный ключ авторизации\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"description\":\"Временный токен авторизации (https://cs.socmedica.com/api/user/authorization)\",\"nullable\": true},\"device_id\":{\"type\":\"string\",\"description\":\"Идентификатор устройства\",\"nullable\": true},\"service\":{\"type\":\"string\",\"description\":\"Номер сервиса (4 - экф, 108 технический экф2)\",\"nullable\": true},\"recipe\":{\"type\":\"string\",\"description\":\"Код(номер) рецепта\",\"nullable\": true},\"email\":{\"type\":\"string\",\"description\":\"E-mail, коротый используется при отправке рецепта\",\"nullable\": true},\"patient_id\":{\"type\":\"string\",\"description\":\"id пациента, по которому необходимо получить список рецептов\",\"nullable\": true},\"snils\":{\"type\":\"string\",\"description\":\"СНИЛС пациента\",\"nullable\": true},\"active_language\":{\"type\":\"string\",\"description\":\"Локаль пользователя\",\"nullable\": true}},\"additionalProperties\": false,\"description\":\"Аргументы для получения рецепта\"},\"PharmTaxiApp.Models.RequestMustHave\":{\"type\":\"object\",\"properties\":{\"fp_id\":{\"type\":\"string\",\"description\":\"FP_ID препарата на проверку\",\"nullable\": true},\"tn_id\":{\"type\":\"string\",\"description\":\"TN_ID препарата на проверку\",\"nullable\": true},\"dv_id\":{\"type\":\"string\",\"description\":\"DV_ID препарата на проверку\",\"nullable\": true}},\"additionalProperties\": false,\"description\":\"Запрос по списку ЖНВЛП\"},\"PharmTaxiApp.Models.ResponseMustHave\":{\"type\":\"object\",\"properties\":{\"fp_id\":{\"type\":\"string\",\"description\":\"FP_ID препарата на проверку\",\"nullable\": true},\"tn_id\":{\"type\":\"string\",\"description\":\"TN_ID препарата на проверку\",\"nullable\": true},\"dv_id\":{\"type\":\"string\",\"description\":\"DV_ID препарата на проверку\",\"nullable\": true},\"must_have\":{\"type\":\"boolean\",\"description\":\"Если находится в списке то true, если нет то false\"}},\"additionalProperties\": false,\"description\":\"Ответ по списку ЖНВЛП\"},\"SMReceipt.Global.Models.Calc\":{\"type\":\"object\",\"properties\":{\"dosageBaseUnit\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"count\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"dosageUnit\":{\"type\":\"string\",\"nullable\": true},\"dayCount\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"fullDosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"weightDosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"dayDosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"dayWeightDosage\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"durationCount\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"durationUnit\":{\"type\":\"string\",\"nullable\": true},\"fullSpeed\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true},\"liquidSpeed\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"tintSpeed\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"weightSpeed\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true}},\"additionalProperties\": false},\"SMReceipt.Global.Models.Dosage\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"nullable\": true},\"value_1\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"value_2\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"id_1\":{\"type\":\"string\",\"nullable\": true},\"id_2\":{\"type\":\"string\",\"nullable\": true},\"id\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"SMReceipt.Global.Models.Drug\":{\"type\":\"object\",\"properties\":{\"serial\":{\"type\":\"string\",\"nullable\": true},\"gtin\":{\"type\":\"string\",\"nullable\": true},\"pharmPackId\":{\"type\":\"string\",\"nullable\": true},\"quantity\":{\"type\":\"number\",\"format\":\"double\"},\"freq_id\":{\"type\":\"string\",\"nullable\": true},\"solute\":{\"type\":\"boolean\"},\"specials\":{\"type\":\"string\",\"nullable\": true},\"liquid\":{\"type\":\"boolean\",\"nullable\": true},\"proto\":{\"type\":\"string\",\"nullable\": true},\"proto_date\":{\"type\":\"string\",\"nullable\": true},\"freq\":{\"type\":\"string\",\"nullable\": true},\"proto_key\":{\"type\":\"string\",\"nullable\": true},\"pproto\":{\"type\":\"string\",\"nullable\": true},\"pkey\":{\"type\":\"string\",\"nullable\": true},\"repeal\":{\"type\":\"boolean\"},\"repealdoc\":{\"type\":\"string\",\"nullable\": true},\"repealdate\":{\"type\":\"string\",\"nullable\": true},\"repealproto\":{\"type\":\"string\",\"nullable\": true},\"pdate\":{\"type\":\"string\",\"nullable\": true},\"recipes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"nullable\": true},\"duration_id\":{\"type\":\"string\",\"nullable\": true},\"schedule\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Schedule\"},\"key\":{\"type\":\"string\",\"nullable\": true},\"id\":{\"type\":\"string\",\"nullable\": true},\"fpid\":{\"type\":\"string\",\"nullable\": true},\"mnnid\":{\"type\":\"string\",\"nullable\": true},\"mnnname\":{\"type\":\"string\",\"nullable\": true},\"type\":{\"type\":\"string\",\"nullable\": true},\"duration\":{\"type\":\"string\",\"nullable\": true},\"level\":{\"type\":\"integer\",\"format\":\"int32\"},\"namesearch\":{\"type\":\"string\",\"nullable\": true},\"group\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"recipenameid\":{\"type\":\"string\",\"nullable\": true},\"text\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.FDosage\"},\"calc\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Calc\"},\"name\":{\"type\":\"string\",\"nullable\": true},\"helpers\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.FrontHelpers\"}},\"additionalProperties\": false},\"SMReceipt.Global.Models.FakeOrder\":{\"type\":\"object\",\"properties\":{\"authkey\":{\"type\":\"string\",\"nullable\": true},\"key\":{\"type\":\"string\",\"nullable\": true},\"_id\":{\"type\":\"string\",\"nullable\": true},\"pharm_id\":{\"type\":\"integer\",\"format\":\"int32\"},\"user_id\":{\"type\":\"string\",\"nullable\": true},\"order_id\":{\"type\":\"string\",\"nullable\": true},\"recipe\":{\"type\":\"string\",\"nullable\": true},\"isActive\":{\"type\":\"boolean\"},\"creationDate\":{\"type\":\"integer\",\"format\":\"int64\"},\"issueDate\":{\"type\":\"integer\",\"format\":\"int64\"},\"delivery\":{\"type\":\"boolean\"},\"deliveryAddress\":{\"type\":\"string\",\"nullable\": true},\"status\":{\"type\":\"integer\",\"format\":\"int32\"},\"items\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Item\"},\"nullable\": true}},\"additionalProperties\": false},\"SMReceipt.Global.Models.FDosage\":{\"type\":\"object\",\"properties\":{\"form\":{\"type\":\"string\",\"nullable\": true},\"method\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Dosage\"},\"nullable\": true},\"pack\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Pack\"},\"value\":{\"type\":\"array\",\"items\":{\"type\":\"number\",\"format\":\"double\"},\"nullable\": true}},\"additionalProperties\": false},\"SMReceipt.Global.Models.FrontHelpers\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"nullable\": true},\"way\":{\"type\":\"string\",\"nullable\": true},\"step\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.FrontUnit\"},\"pack\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.FrontUnit\"}},\"additionalProperties\": false},\"SMReceipt.Global.Models.FrontUnit\":{\"type\":\"object\",\"properties\":{\"small\":{\"type\":\"string\",\"nullable\": true},\"full\":{\"type\":\"string\",\"nullable\": true},\"id\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"SMReceipt.Global.Models.Interval\":{\"type\":\"object\",\"properties\":{\"type\":{\"type\":\"string\",\"nullable\": true},\"x\":{\"type\":\"number\",\"format\":\"double\"},\"timesx\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"SMReceipt.Global.Models.Item\":{\"type\":\"object\",\"properties\":{\"drug\":{\"$ref\":\"#/components/schemas/ECPLib.Common.Drugs.Models.Drug\"},\"qty\":{\"type\":\"integer\",\"format\":\"int32\"},\"price\":{\"type\":\"number\",\"format\":\"double\"}},\"additionalProperties\": false},\"SMReceipt.Global.Models.Meds\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\",\"nullable\": true},\"table\":{\"type\":\"string\",\"nullable\": true},\"name\":{\"type\":\"string\",\"nullable\": true},\"value\":{\"type\":\"string\",\"nullable\": true},\"packs_string\":{\"type\":\"string\",\"nullable\": true},\"packs\":{\"type\":\"integer\",\"format\":\"int32\"},\"send\":{\"type\":\"string\",\"nullable\": true},\"removed\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"type\":\"string\",\"nullable\": true},\"tn\":{\"type\":\"string\",\"nullable\": true},\"drugstore_drug_id\":{\"type\":\"string\",\"nullable\": true},\"price\":{\"type\":\"number\",\"format\":\"double\"}},\"additionalProperties\": false},\"SMReceipt.Global.Models.Order\":{\"type\":\"object\",\"properties\":{\"pharmID\":{\"type\":\"string\",\"nullable\": true},\"userID\":{\"type\":\"string\",\"nullable\": true},\"orderToSave\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.OrderToSave\"}},\"additionalProperties\": false},\"SMReceipt.Global.Models.OrderToSave\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\",\"nullable\": true},\"pharm_id_string\":{\"type\":\"string\",\"nullable\": true},\"pharm_id\":{\"type\":\"integer\",\"format\":\"int32\"},\"user_id\":{\"type\":\"string\",\"nullable\": true},\"order_id\":{\"type\":\"string\",\"nullable\": true},\"recipe\":{\"type\":\"string\",\"nullable\": true},\"drugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Meds\"},\"nullable\": true},\"isActive\":{\"type\":\"boolean\"},\"creationDate\":{\"type\":\"integer\",\"format\":\"int64\"},\"issueDate\":{\"type\":\"integer\",\"format\":\"int64\"},\"deliveryAddress\":{\"type\":\"string\",\"nullable\": true},\"status\":{\"type\":\"integer\",\"format\":\"int32\"},\"delivery\":{\"type\":\"boolean\"}},\"additionalProperties\": false},\"SMReceipt.Global.Models.Pack\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\",\"nullable\": true},\"dosage\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Dosage\"}},\"additionalProperties\": false},\"SMReceipt.Global.Models.SaveOrder\":{\"type\":\"object\",\"properties\":{\"_id\":{\"type\":\"string\",\"nullable\": true},\"alert\":{\"$ref\":\"#/components/schemas/UMKBRequests.Alert\"},\"key\":{\"type\":\"string\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"nullable\": true},\"device_id\":{\"type\":\"string\",\"nullable\": true},\"service\":{\"type\":\"string\",\"nullable\": true},\"active_language\":{\"type\":\"string\",\"nullable\": true},\"order\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Order\"},\"nullable\": true}},\"additionalProperties\": false},\"SMReceipt.Global.Models.Schedule\":{\"type\":\"object\",\"properties\":{\"dateStart\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"dateFinish\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"finishAlternate\":{\"type\":\"string\",\"nullable\": true},\"interval\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Interval\"},\"nullable\": true},\"once\":{\"type\":\"boolean\",\"nullable\": true}},\"additionalProperties\": false},\"SMReceipt.Global.Models.SearchReceipt\":{\"type\":\"object\",\"properties\":{\"patientId\":{\"type\":\"integer\",\"format\":\"int32\"},\"receiptsCodes\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"nullable\": true},\"pharmId\":{\"type\":\"string\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"nullable\": true},\"key\":{\"type\":\"string\",\"nullable\": true},\"receiptCode\":{\"type\":\"string\",\"nullable\": true},\"fio\":{\"type\":\"string\",\"nullable\": true},\"birthdate\":{\"type\":\"string\",\"nullable\": true},\"snils\":{\"type\":\"string\",\"nullable\": true},\"region\":{\"type\":\"string\",\"nullable\": true},\"dateOfReceipt\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"SMReceipt.MongoConnect.ECP.Models.Concept\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\",\"nullable\": true},\"id\":{\"type\":\"string\",\"nullable\": true},\"fpid\":{\"type\":\"string\",\"nullable\": true},\"type\":{\"type\":\"string\",\"nullable\": true},\"level\":{\"type\":\"integer\",\"format\":\"int32\"},\"name\":{\"type\":\"string\",\"nullable\": true},\"namesearch\":{\"type\":\"string\",\"nullable\": true},\"group\":{\"type\":\"integer\",\"format\":\"int32\"},\"main\":{\"type\":\"boolean\"}},\"additionalProperties\": false},\"SMReceipt.MongoConnect.ECP.Models.GetInfoPreparations\":{\"type\":\"object\",\"properties\":{\"alert\":{\"$ref\":\"#/components/schemas/UMKBRequests.Alert\"},\"key\":{\"type\":\"string\",\"nullable\": true},\"authkey\":{\"type\":\"string\",\"nullable\": true},\"device_id\":{\"type\":\"string\",\"nullable\": true},\"service\":{\"type\":\"string\",\"nullable\": true},\"misid\":{\"type\":\"string\",\"nullable\": true},\"misprotocol\":{\"type\":\"string\",\"nullable\": true},\"doctor_id\":{\"type\":\"string\",\"nullable\": true},\"doctor_code\":{\"type\":\"string\",\"nullable\": true},\"doctor_name\":{\"type\":\"string\",\"nullable\": true},\"clinic_id\":{\"type\":\"string\",\"nullable\": true},\"clinic_code\":{\"type\":\"string\",\"nullable\": true},\"clinic_name\":{\"type\":\"string\",\"nullable\": true},\"dep_id\":{\"type\":\"string\",\"nullable\": true},\"dep_code\":{\"type\":\"string\",\"nullable\": true},\"dep_name\":{\"type\":\"string\",\"nullable\": true},\"patient\":{\"$ref\":\"#/components/schemas/SMReceipt.MongoConnect.ECP.Models.Patient\"},\"active_language\":{\"type\":\"string\",\"nullable\": true},\"drugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Drug\"},\"nullable\": true},\"liquids\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Drug\"},\"nullable\": true},\"deletedDrugs\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Drug\"},\"nullable\": true},\"deletedLiquids\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.Global.Models.Drug\"},\"nullable\": true},\"return_subjects\":{\"type\":\"boolean\"},\"misurl\":{\"type\":\"string\",\"nullable\": true},\"protocol\":{\"type\":\"string\",\"nullable\": true},\"save_recipe\":{\"type\":\"boolean\",\"deprecated\": true},\"recipe\":{\"type\":\"string\",\"nullable\": true,\"deprecated\": true},\"recipe_endtime\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"recipe_text\":{\"type\":\"string\",\"nullable\": true}},\"additionalProperties\": false},\"SMReceipt.MongoConnect.ECP.Models.Patient\":{\"type\":\"object\",\"properties\":{\"id\":{\"type\":\"string\",\"nullable\": true},\"name\":{\"type\":\"string\",\"nullable\": true},\"email\":{\"type\":\"string\",\"nullable\": true},\"miscode\":{\"type\":\"string\",\"nullable\": true},\"misid\":{\"type\":\"string\",\"nullable\": true},\"fio\":{\"type\":\"string\",\"nullable\": true},\"snils\":{\"type\":\"string\",\"nullable\": true},\"key\":{\"type\":\"string\",\"nullable\": true},\"birthdate\":{\"type\":\"integer\",\"format\":\"int64\",\"nullable\": true},\"sex\":{\"type\":\"string\",\"nullable\": true},\"growth\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"weight\":{\"type\":\"number\",\"format\":\"double\",\"nullable\": true},\"disease\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.MongoConnect.ECP.Models.Concept\"},\"nullable\": true},\"co_disease\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.MongoConnect.ECP.Models.Concept\"},\"nullable\": true},\"pregnancy\":{\"type\":\"boolean\"},\"gestation\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"trimester\":{\"type\":\"integer\",\"format\":\"int32\",\"nullable\": true},\"lactation\":{\"type\":\"boolean\"},\"driving\":{\"type\":\"boolean\"},\"alcohol\":{\"type\":\"boolean\"},\"allergy\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/SMReceipt.MongoConnect.ECP.Models.Concept\"},\"nullable\": true},\"labparams\":{\"type\":\"array\",\"items\":{\"type\":\"string\"},\"nullable\": true},\"actualproto\":{\"type\":\"object\",\"additionalProperties\":{\"uniqueItems\": true,\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"nullable\": true}},\"additionalProperties\": false},\"UMKBRequests.Alert\":{\"type\":\"object\",\"properties\":{\"code\":{\"type\":\"string\",\"nullable\": true},\"title\":{\"type\":\"string\",\"nullable\": true},\"message\":{\"type\":\"string\",\"nullable\": true},\"level\":{\"type\":\"string\",\"nullable\": true},\"sticky\":{\"type\":\"boolean\"}},\"additionalProperties\": false}}}}";


        [HttpGet]
        public async Task<string> Get(string? Code)
        {
            if (Code == "ECP")
            {
                using (var fs = new FileStream("ecp.json", FileMode.Open)) 
                {
                    byte[] buffer = new byte[fs.Length];

                    await fs.ReadAsync(buffer, 0, buffer.Length);

                    return Encoding.Default.GetString(buffer);
                }
            }

            if (Code == "FT")
            {
                using (var fs = new FileStream("ft.json", FileMode.Open))
                {
                    byte[] buffer = new byte[fs.Length];

                    await fs.ReadAsync(buffer, 0, buffer.Length);

                    return Encoding.Default.GetString(buffer);
                }
            }

            return string.Empty;
        }
    }
}
